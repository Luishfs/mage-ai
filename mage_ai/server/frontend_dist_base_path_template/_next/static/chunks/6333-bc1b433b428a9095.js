"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6333],{27277:function(e,n,t){var i=t(82394),r=t(21831),o=t(82684),l=t(39643),u=t(44688),c=t(28598);function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n=e.highlightedItemIndexInitial,t=void 0===n?null:n,i=e.itemGroups,s=e.noResultGroups,d=e.onHighlightItemIndexChange,p=e.onMouseEnterItem,f=e.onMouseLeaveItem,h=e.onSelectItem,v=e.renderEmptyState,m=e.searchQuery,j=e.selectedItem,g=e.setItemRefs,x=e.uuid,Z=(0,o.useState)(!0),b=Z[0],y=Z[1],P=(0,o.useMemo)((function(){var e=[],n=i.reduce((function(n,t){var i=t.items.filter((function(e){return!m||function(e,n){return e.searchQueries.filter((function(e){return String(e).toLowerCase().includes(n.toLowerCase())})).length>=1}(e,m)}));return 0===i.length?n:(e.push.apply(e,(0,r.Z)(i)),n.concat(a(a({},t),{},{items:i})))}),[]);return{itemGroups:n,itemsFlattened:e}}),[i,m]),O=P.itemGroups,_=P.itemsFlattened;s&&0===_.length&&(O.push.apply(O,(0,r.Z)(s)),_.push.apply(_,(0,r.Z)(s.reduce((function(e,n){var t=n.items;return e.concat(t)}),[]))));var w=(0,o.useRef)(null);w.current=_.map((function(){return(0,o.createRef)()}));var I=(0,o.useState)(t),k=I[0],S=I[1],C=(0,o.useCallback)((function(e){null===d||void 0===d||d(e),S(e)}),[d,S]),T=_[k],E=(0,u.y)(),M=E.registerOnKeyDown,D=E.unregisterOnKeyDown;(0,o.useEffect)((function(){return function(){return D(x)}}),[D,x]),null===M||void 0===M||M(x,(function(e,n,t){var i,r=!0,o=_.length,u=_.findIndex((function(e,i){var r=e.keyboardShortcutValidation;return null===r||void 0===r?void 0:r({keyHistory:t,keyMapping:n},i)})),c=n[l.Gs]&&!n[l.XR]&&!j;return-1!==u?(e.preventDefault(),h(_[u]),y(r),C(u)):(n[l.Uq]||c)&&_[k]?(c&&e.preventDefault(),h(_[k]),y(r),C(k)):(n[l.Bu]?(r=!1,i=null===k?o-1:k-1):n[l.kD]?(r=!1,i=null===k?0:k+1):n[l.vP]&&C(null),"undefined"!==typeof i&&(i>=o?i=0:i<=-1&&(i=o-1),i>=0&&i<=o-1?(C(i),e.preventDefault()):C(null)),void y(r))}),[k,_,j,C,y]),(0,o.useEffect)((function(){null===g||void 0===g||g(w)}),[w,_,g]),(0,o.useEffect)((function(){var e=null===k||"undefined"===typeof k||k>=_.length;(null===m||void 0===m?void 0:m.length)>=1&&e&&C(0)}),[k,_,m,C]);var N=(0,o.useCallback)((function(){return y(!0)}),[y]);return(0,o.useEffect)((function(){return window.addEventListener("mousemove",N),function(){window.removeEventListener("mousemove",N)}}),[N]),0===O.length&&v?v():(0,c.jsx)(c.Fragment,{children:O.map((function(e,n){var t=e.items,i=e.renderItem,r=e.renderGroupHeader,o=e.uuid,l=n>=1?O.slice(0,n).reduce((function(e,n){return e+n.items.length}),0):0,u=t.map((function(e,n){var t=e.itemObject,r=e.value,o=r===(null===T||void 0===T?void 0:T.value),u=n+l,s=(null===t||void 0===t?void 0:t.id)||(null===t||void 0===t?void 0:t.uuid);return(0,c.jsx)("div",{id:"item-".concat(r,"-").concat(s),onMouseMove:function(){return b&&C(u)},ref:w.current[u],children:i(e,{highlighted:o,onClick:function(){return h(e)},onMouseEnter:function(){return null===p||void 0===p?void 0:p(e)},onMouseLeave:function(){return null===f||void 0===f?void 0:f(e)}},n,u)},"item-".concat(r,"-").concat(s))}));return u.length>=1&&(0,c.jsxs)("div",{children:[null===r||void 0===r?void 0:r(),u]},o||"group-uuid-".concat(n))}))})}},8916:function(e,n,t){t.d(n,{FS:function(){return s},JZ:function(){return p},Tt:function(){return d},e7:function(){return f},wx:function(){return a}});var i=t(75582),r=t(82394),o=t(83784),l=t(30229);function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e){return"string"===typeof e?e:JSON.stringify(e)}function a(e,n){var t,i;return null===e||void 0===e||null===(t=e.find((function(e){var t=e.block;return n(t)})))||void 0===t||null===(i=t.variables)||void 0===i?void 0:i.map((function(e){var n=e.value;return c(c({},e),{},{value:s(n)})}))}function d(e){var n;return null===(n=a(e,(function(e){return e.uuid===o.C})))||void 0===n?void 0:n.reduce((function(e,n){var t=n.uuid,i=n.value;return c(c({},e),{},(0,r.Z)({},t,i))}),{})}function p(e,n){return n===l.Xm.TIME?e.push({uuid:"execution_date",value:"<run datetime>"}):n===l.Xm.EVENT&&e.push({uuid:"event",value:"<trigger event>"}),e}function f(e){return e?Object.entries(e).reduce((function(e,n){var t=(0,i.Z)(n,2),o=t[0],l=t[1],u=l;try{u=JSON.parse(l)}catch(s){}return c(c({},e),{},(0,r.Z)({},o,u))}),{}):e}},81334:function(e,n,t){t.d(n,{Z:function(){return _}});var i=t(82394),r=t(82684),o=t(27277),l=t(31882),u=t(38276),c=t(48381),s=t(30160),a=t(17488),d=t(38626),p=t(44897),f=t(42631),h=t(47041),v=t(70515),m=d.default.div.withConfig({displayName:"indexstyle__DropdownStyle",componentId:"sc-suwkha-0"})([""," border-radius:","px;max-height:","px;overflow:auto;position:absolute;width:100%;z-index:1;"," ",""],h.w5,f.BG,40*v.iI,(function(e){return"\n    background-color: ".concat((e.theme.background||p.Z.background).popup,";\n    box-shadow: ").concat((e.theme.shadow||p.Z.shadow).popup,";\n  ")}),(function(e){return e.topOffset&&"\n    top: ".concat(e.topOffset-.5*v.iI,"px;\n  ")})),j=d.default.div.withConfig({displayName:"indexstyle__RowStyle",componentId:"sc-suwkha-1"})(["padding:","px;position:relative;z-index:2;&:hover{cursor:pointer;}",""],.5*v.iI,(function(e){return e.highlighted&&"\n    background-color: ".concat((e.theme.interactive||p.Z.interactive).hoverBackground,";\n  ")})),g=t(39643),x=t(3314),Z=t(86735),b=t(44688),y=t(28598);function P(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function O(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?P(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):P(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var _=function(e){var n,t=e.removeTag,i=e.selectTag,d=e.selectedTags,p=void 0===d?[]:d,f=e.tags,h=void 0===f?[]:f,v=e.uuid,P=(0,r.useRef)(null),_=(0,r.useState)(!1),w=_[0],I=_[1],k=(0,r.useState)(null),S=k[0],C=k[1],T=(0,r.useMemo)((function(){return(0,Z.YC)(h||[],"uuid")}),[h]),E=(0,r.useMemo)((function(){return null===T||void 0===T?void 0:T.map((function(e){return{itemObject:e,searchQueries:[e.uuid],value:e.uuid}}))}),[T]),M=(0,r.useMemo)((function(){return(null===S||void 0===S?void 0:S.length)>=1?E.concat({itemObject:{uuid:S},searchQueries:[S],value:"Add tag: ".concat(S)}):E}),[E,S]),D=(0,b.y)(),N=D.registerOnKeyDown,A=D.unregisterOnKeyDown;return(0,r.useEffect)((function(){return function(){return A(v)}}),[A,v]),null===N||void 0===N||N(v,(function(e,n){var t;w&&n[g.vP]&&(I(!1),null===P||void 0===P||null===(t=P.current)||void 0===t||t.blur())}),[w,P]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(c.Z,{onClickTag:t,tags:p}),(0,y.jsxs)(u.Z,{mt:1,style:{position:"relative"},children:[(0,y.jsx)(a.Z,{onBlur:function(){return setTimeout((function(){return I(!1)}),150)},onChange:function(e){return C(e.target.value)},onFocus:function(){return I(!0)},ref:P,value:S||""}),(0,y.jsx)(m,{topOffset:null===P||void 0===P||null===(n=P.current)||void 0===n?void 0:n.getBoundingClientRect().height,children:(0,y.jsx)(o.Z,{itemGroups:[{items:w?M:[],renderItem:function(e,n){var t=e.value;return(0,y.jsx)(j,O(O({},n),{},{onClick:function(e){var t;(0,x.j)(e),null===n||void 0===n||null===(t=n.onClick)||void 0===t||t.call(n,e)},children:(0,y.jsx)(l.Z,{small:!0,children:(0,y.jsx)(s.ZP,{children:t})})}))}}],onSelectItem:function(e){var n=e.itemObject;null===i||void 0===i||i(n),C(null)},searchQuery:S,uuid:v})})]})]})}},88785:function(e,n,t){t.d(n,{J:function(){return c},U:function(){return u}});var i=t(38626),r=t(44897),o=t(42631),l=t(70515),u=i.default.div.withConfig({displayName:"indexstyle__CardStyle",componentId:"sc-m7tlau-0"})(["border-radius:","px;border-style:solid;border-width:2px;height:","px;margin-right:","px;padding:","px;width:","px;"," ",""],o.TR,14*l.iI,l.cd*l.iI,l.cd*l.iI,40*l.iI,(function(e){return!e.selected&&"\n    border-color: ".concat((e.theme.borders||r.Z.borders).light,";\n  ")}),(function(e){return e.selected&&"\n    border-color: ".concat((e.theme.interactive||r.Z.interactive).linkPrimary,";\n  ")})),c=i.default.div.withConfig({displayName:"indexstyle__DateSelectionContainer",componentId:"sc-m7tlau-1"})(["border-radius:","px;padding:","px;"," "," ",""],o.n_,l.tr,(function(e){return"\n    background-color: ".concat((e.theme.interactive||r.Z.interactive).defaultBackground,";\n  ")}),(function(e){return e.absolute&&"\n    position: absolute;\n    z-index: 2;\n    right: 0;\n    top: ".concat(2.5*l.iI,"px;\n  ")}),(function(e){return e.topPosition&&"\n    top: -".concat(42*l.iI,"px;\n  ")}))},12717:function(e,n,t){t.d(n,{Z:function(){return Le}});var i=t(21831),r=t(82394),o=t(75582),l=t(12691),u=t.n(l),c=t(82684),s=t(20026),a=t.n(s),d=t(92083),p=t.n(d),f=t(21764),h=t(69864),v=t(34376),m=t(71180),j=t(90299),g=t(14805),x=t(70652),Z=t(50724),b=t(9134),y=t(39457),P=t(38626),O=t(39867),_=t(55485),w=t(85854),I=t(38276),k=t(75499),S=t(30160),C=t(17488),T=t(12468),E=t(44375),M=t(70515),D=t(55283),N=t(86735),A=t(28598);function L(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function H(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?L(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):L(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var z=function(e){var n=e.blocks,t=e.updateVariables,i=e.variables,o=(0,c.useContext)(P.ThemeContext),l=(0,c.useCallback)((function(e,n){return t((function(){var t=(null===i||void 0===i?void 0:i.__mage_variables)||{},o=(null===t||void 0===t?void 0:t.blocks)||{},l=o[e]||{},u=(null===l||void 0===l?void 0:l.configuration)||{};return H(H({},i),{},{__mage_variables:H(H({},t),{},{blocks:H(H({},o),{},(0,r.Z)({},e,H(H({},l),{},{configuration:H(H({},u),n)})))})})}))}),[t,i]);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(w.Z,{children:"dbt runtime settings"}),(0,A.jsx)(I.Z,{mt:M.Mq,children:(0,A.jsx)(k.Z,{columnFlex:[1,null,null,null],columns:[{uuid:"Block"},{uuid:"Flags"},{uuid:"Prefix"},{uuid:"Suffix"}],compact:!0,rows:null===n||void 0===n?void 0:n.map((function(e){var n,t,r,u=e.type,c=e.uuid,s=(0,E.IU)(e).name,a=(0,D.qn)(u,{blockColor:e.color,theme:o}).accent,d=null===i||void 0===i||null===(n=i.__mage_variables)||void 0===n||null===(t=n.blocks)||void 0===t||null===(r=t[c])||void 0===r?void 0:r.configuration,p=d||{},f=p.prefix,h=p.suffix,v=(null===d||void 0===d?void 0:d.flags)||[],m=!(null===v||void 0===v||!v.includes(E.Dy));return[(0,A.jsx)(T.Z,{block:!0,label:(0,A.jsx)(S.ZP,{monospace:!0,small:!0,children:c}),size:null,widthFitContent:!0,children:(0,A.jsxs)(_.ZP,{alignItems:"center",children:[(0,A.jsx)(O.Z,{color:a,size:1.5*M.iI,square:!0}),(0,A.jsx)(I.Z,{mr:1}),(0,A.jsxs)(S.ZP,{monospace:!0,small:!0,children:[f&&(0,A.jsx)(S.ZP,{default:!0,inline:!0,monospace:!0,small:!0,children:f}),s,h&&(0,A.jsx)(S.ZP,{default:!0,inline:!0,monospace:!0,small:!0,children:h})]})]})},"uuid-".concat(c)),(0,A.jsx)(_.ZP,{alignItems:"center",children:(0,A.jsx)(x.Z,{checked:m,label:E.Dy,monospace:!0,onClick:function(){return l(c,{flags:m?(0,N.Od)(v,(function(e){return E.Dy===e})):v.concat(E.Dy)})},small:!0})},"flags-".concat(c)),(0,A.jsx)(C.Z,{compact:!0,monospace:!0,onChange:function(e){return l(c,{prefix:e.target.value})},placeholder:"N+, +",small:!0,value:f,width:10*M.iI},"prefix-".concat(c)),(0,A.jsx)(C.Z,{compact:!0,monospace:!0,onChange:function(e){return l(c,{suffix:e.target.value})},placeholder:"+, +N",small:!0,value:h,width:10*M.iI},"suffix-".concat(c))]}))})})]})},F=t(97196),q=t(15338),U=t(97618),R=t(48670),W=t(26304),B=t(44897),K=t(95363),Y=t(61896),J=["children","large","lineHeight","ordered"];function G(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function V(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?G(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):G(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var X=(0,P.css)([""," "," "," "," "," "," "," "," "," ",""],(function(e){return!e.muted&&"\n    color: ".concat((e.theme.content||B.Z.content).default,";\n  ")}),(function(e){return e.muted&&"\n    color: ".concat((e.theme.content||B.Z.content).muted,";\n  ")}),(function(e){return e.inverted&&"\n    color: ".concat((e.theme.content||B.Z.content).inverted,";\n  ")}),(function(e){return e.color&&"\n    color: ".concat(e.color,";\n  ")}),(function(e){return!e.monospace&&"\n    font-family: ".concat(K.ry,";\n  ")}),(function(e){return e.monospace&&"\n    font-family: ".concat(K.Vp,";\n  ")}),(function(e){return e.large&&"\n    ".concat(Y.x_,"\n  ")}),(function(e){return!e.large&&!e.small&&"\n    ".concat(Y.i3,"\n  ")}),(function(e){return e.small&&"\n    ".concat(Y.J5,"\n  ")}),(function(e){return e.lineHeight&&"\n    line-height: ".concat(e.lineHeight,"px !important;\n  ")})),Q=P.default.ul.withConfig({displayName:"List__UnorderedListStyle",componentId:"sc-1f6yhbi-0"})(["",""],X),$=P.default.ol.withConfig({displayName:"List__OrderedListStyle",componentId:"sc-1f6yhbi-1"})(["",""],X),ee=P.default.li.withConfig({displayName:"List__ListItemStyle",componentId:"sc-1f6yhbi-2"})(["",""],(function(e){return e.large&&e.marginTop&&"\n    margin-top: ".concat(1*M.iI,"px;\n  ")}));var ne,te=function(e){var n=e.children,t=e.large,i=e.lineHeight,r=e.ordered,o=(0,W.Z)(e,J),l=r?$:Q;return(0,A.jsx)(l,V(V({large:t,lineHeight:i},o),{},{children:c.Children.map(n,(function(e,n){var i;return(0,A.jsx)(ee,V(V({large:t,marginTop:n>=1},o),{},{children:c.cloneElement(e)}),(null===(i=e.props)||void 0===i?void 0:i.key)||n)}))}))},ie=t(75457),re=t(30229),oe=t(57653),le=t(83784),ue=t(82359),ce=t(44085),se=t(81334),ae=t(69650),de=t(81769),pe=t(54193),fe=t(72473),he=t(81728),ve=t(16488),me=t(70320),je=(ne={},(0,r.Z)(ne,pe.zj.DATE,fe.aw),(0,r.Z)(ne,pe.zj.DATETIME,fe.Pf),(0,r.Z)(ne,pe.zj.DICTIONARY,fe.$l),(0,r.Z)(ne,pe.zj.FLOAT,fe.As),(0,r.Z)(ne,pe.zj.INTEGER,fe.qZ),(0,r.Z)(ne,pe.zj.LIST,fe.B4),(0,r.Z)(ne,pe.zj.STRING,fe.KJ),ne);var ge=function(e){var n,t,i,r=e.containerRef,l=e.date,u=e.interactions,s=e.pipeline,a=e.pipelineInteraction,d=e.pipelineSchedule,p=e.setVariables,f=e.showSummary,h=e.time,v=e.triggerTypes,m=e.variables,j=(0,c.useMemo)((function(){return(0,N.HK)(u||[],(function(e){return e.uuid}))}),[u]),g=(0,c.useMemo)((function(){return(null===s||void 0===s?void 0:s.blocks)||[]}),[s]),x=(0,c.useMemo)((function(){return(null===a||void 0===a?void 0:a.blocks)||{}}),[a]),Z=(0,c.useMemo)((function(){var e=[];null===g||void 0===g||g.length;return null===g||void 0===g||g.map((function(n,t){var i=(n||{uuid:null}).uuid,o=(null===x||void 0===x?void 0:x[i])||[];null===o||void 0===o||o.length;e.push((0,A.jsx)(I.Z,{p:M.cd,children:null===o||void 0===o?void 0:o.map((function(e,n){return(0,A.jsx)(I.Z,{mt:n>=1?2*M.cd:0,children:(0,A.jsx)(de.Z,{blockInteraction:e,containerRef:r,interaction:null===j||void 0===j?void 0:j[null===e||void 0===e?void 0:e.uuid],setVariables:p,variables:m})},"".concat(null===e||void 0===e?void 0:e.uuid,"-").concat(n))}))}))})),e}),[g,r,j,p,m]),b=(0,me.q)(),y=(0,c.useMemo)((function(){return l&&null!==h&&void 0!==h&&h.hour&&null!==h&&void 0!==h&&h.minute?(0,ve.XM)(l,h,{convertToUtc:b,includeSeconds:!0,localTimezone:b}):null}),[l,b,h]),P=(0,c.useMemo)((function(){var e=[];null===g||void 0===g||g.length;return null===g||void 0===g||g.map((function(n,t){var i=(n||{uuid:null}).uuid,r=(null===x||void 0===x?void 0:x[i])||[];null===r||void 0===r||r.forEach((function(n,r){var l=null===j||void 0===j?void 0:j[null===n||void 0===n?void 0:n.uuid];Object.entries((null===l||void 0===l?void 0:l.variables)||{}).forEach((function(n,l){var u,c=(0,o.Z)(n,2),s=c[0],a=c[1],d=a.name,p=a.required,f=a.types,h=null===m||void 0===m?void 0:m[s],v="undefined"===typeof h,j=p&&v,g=(null===je||void 0===je?void 0:je[f[0]])||fe.KJ,x=[];"undefined"!==typeof h?h&&Array.isArray(h||[])?null===h||void 0===h||h.forEach((function(e){x.push(e&&"object"===typeof e?x.push(JSON.stringify(e)):x.push(String(e)))})):h&&"object"===typeof h?Object.entries(h||{}).forEach((function(e){var n=(0,o.Z)(e,2),t=n[0];n[1]&&x.push(String(t))})):x.push(String(h)):x.push(h||""),e.push([(0,A.jsxs)(_.ZP,{alignItems:"center",children:[(0,A.jsx)(g,{default:!0,size:1.5*M.iI}),(0,A.jsx)(I.Z,{mr:1}),(0,A.jsx)(S.ZP,{default:!0,monospace:!0,children:s})]},"".concat(i,"-").concat(s,"-label-").concat(d,"-").concat(t,"-").concat(r,"-").concat(l)),(0,A.jsx)(I.Z,{py:M.cd,children:(0,A.jsxs)(S.ZP,{danger:j,monospace:!j,muted:v,children:[v&&!j&&"-",j&&"This is required",!v&&!j&&(null===x||void 0===x||null===(u=x.map((function(e){return String(e)})))||void 0===u?void 0:u.join(", "))]})},"".concat(i,"-").concat(s,"-value-").concat(d,"-").concat(h,"-").concat(t,"-").concat(r,"-").concat(l))])}))}))})),(0,A.jsx)(k.Z,{columnFlex:[null,1],rows:e})}),[g,j,m]);return(0,A.jsxs)(A.Fragment,{children:[!f&&Z,f&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(I.Z,{p:M.cd,children:(0,A.jsx)(w.Z,{children:"Settings"})}),(0,A.jsx)(q.Z,{light:!0,short:!0}),(0,A.jsx)(k.Z,{columnFlex:[null,1],rows:[[(0,A.jsxs)(_.ZP,{alignItems:"center",children:[(0,A.jsx)(fe.Bf,{default:!0}),(0,A.jsx)(I.Z,{mr:1}),(0,A.jsx)(S.ZP,{default:!0,children:"Trigger type"})]},"trigger_type"),(0,A.jsx)(I.Z,{py:M.cd,children:(0,A.jsx)(S.ZP,{danger:!(null!==d&&void 0!==d&&d.schedule_type),monospace:!0,children:null!==d&&void 0!==d&&d.schedule_type?null===v||void 0===v||null===(n=v.find((function(e){return e.uuid===(null===d||void 0===d?void 0:d.schedule_type)})))||void 0===n||null===(t=n.label)||void 0===t?void 0:t.call(n):"This is required"})},"trigger_type_input")],[(0,A.jsxs)(_.ZP,{alignItems:"center",children:[(0,A.jsx)(fe.KJ,{default:!0}),(0,A.jsx)(I.Z,{mr:1}),(0,A.jsx)(S.ZP,{default:!0,children:"Trigger name"})]},"trigger_name"),(0,A.jsx)(I.Z,{py:M.cd,children:(0,A.jsx)(S.ZP,{danger:!(null!==d&&void 0!==d&&d.name),monospace:!0,children:(null===d||void 0===d?void 0:d.name)||"This is required"})},"trigger_name_input")],[(0,A.jsxs)(_.ZP,{alignItems:"center",children:[(0,A.jsx)(fe.KJ,{default:!0}),(0,A.jsx)(I.Z,{mr:1}),(0,A.jsx)(S.ZP,{default:!0,children:"Trigger description"})]},"trigger_description"),(0,A.jsx)(I.Z,{py:M.cd,children:(0,A.jsx)(S.ZP,{monospace:!0,muted:!(null!==d&&void 0!==d&&d.description),children:(null===d||void 0===d?void 0:d.description)||"-"})},"trigger_description_input")],[(0,A.jsxs)(_.ZP,{alignItems:"center",children:[(0,A.jsx)(fe.Pf,{default:!0,size:1.5*M.iI}),(0,A.jsx)(I.Z,{mr:1}),(0,A.jsx)(S.ZP,{default:!0,children:"Frequency"})]},"frequency"),(0,A.jsx)(I.Z,{py:M.cd,children:(0,A.jsxs)(S.ZP,{danger:!(null!==d&&void 0!==d&&d.schedule_interval),monospace:!0,muted:!(null!==d&&void 0!==d&&d.schedule_interval),children:[(null===d||void 0===d?void 0:d.schedule_interval)&&(0,he.vg)((null===d||void 0===d||null===(i=d.schedule_interval)||void 0===i?void 0:i.substring(1))||""),!(null!==d&&void 0!==d&&d.schedule_interval)&&"This is required"]})},"frequency_input")],[(0,A.jsxs)(_.ZP,{alignItems:"center",children:[(0,A.jsx)(fe.aw,{default:!0,size:1.5*M.iI}),(0,A.jsx)(I.Z,{mr:1}),(0,A.jsx)(S.ZP,{default:!0,children:"Start date and time"})]},"start_time"),(0,A.jsx)(I.Z,{py:M.cd,children:(0,A.jsx)(S.ZP,{danger:!y,monospace:!!y,muted:!y,children:y||"This is required"})},"start_time_input")]]}),(0,A.jsx)(I.Z,{p:M.cd,children:(0,A.jsx)(w.Z,{children:"Customize"})}),(0,A.jsx)(q.Z,{light:!0,short:!0}),P]})]})},xe=t(35686),Ze=t(77417),be=t(44425),ye=t(88785),Pe=t(44265),Oe=t(28795),_e={label:function(){return"CUSTOMIZE"},uuid:"customize"},we={label:function(){return"SETTINGS"},uuid:"settings"},Ie={label:function(){return"REVIEW"},uuid:"review"},ke=[we,_e,Ie],Se=t(22286),Ce=t(79500),Te=t(8916),Ee=t(42122),Me=t(72619),De=t(3917);function Ne(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Ae(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ne(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ne(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Le=function(e){var n=e.creatingWithLimitation,t=e.errors,l=e.fetchPipelineSchedule,s=e.onCancel,d=e.pipeline,P=e.pipelineSchedule,O=e.setErrors,T=e.variables,E=e.useCreateScheduleMutation,L=(0,Ze.Z)().project,H=(0,c.useRef)(null),W=(0,v.useRouter)(),B=(0,me.q)(),K=null===d||void 0===d?void 0:d.uuid,Y=(0,c.useMemo)((function(){return null===P||void 0===P?void 0:P.id}),[P]),J=(null===d||void 0===d?void 0:d.type)===oe.qL.STREAMING,G=(0,c.useState)([]),V=G[0],X=G[1],Q=(0,c.useState)(!1),$=Q[0],ee=Q[1],ne=(0,c.useState)(!1),de=ne[0],pe=ne[1],je=(0,c.useState)(!1),Ne=je[0],Le=je[1],He=(0,c.useState)(null),ze=He[0],Fe=He[1],qe=(0,c.useState)({}),Ue=qe[0],Re=qe[1],We=(0,c.useState)(null),Be=We[0],Ke=We[1],Ye=(0,c.useState)(null),Je=Ye[0],Ge=Ye[1],Ve=(0,c.useState)(!1),Xe=Ve[0],Qe=Ve[1],$e=(0,c.useState)(null),en=$e[0],nn=$e[1],tn=xe.ZP.client_pages.detail("pipeline_schedule:create",{"pipeline_schedules[]":[Y],"pipelines[]":[K]},{},{key:"Triggers/Edit/".concat(K,"/").concat(Y),pauseFetch:!K||!Y}).data,rn=((0,c.useMemo)((function(){return null===tn||void 0===tn?void 0:tn.client_page}),[tn]),(0,c.useState)(ke[0].uuid)),on=rn[0],ln=rn[1],un=(0,c.useMemo)((function(){var e;return!(null===L||void 0===L||null===(e=L.features)||void 0===e||!e[ue.d.INTERACTIONS])}),[null===L||void 0===L?void 0:L.features]),cn=(0,c.useMemo)((function(){return!Y&&n}),[n,Y]),sn=xe.ZP.pipeline_interactions.detail(un&&K,{filter_for_permissions:1}).data,an=xe.ZP.interactions.pipeline_interactions.list(un&&K).data,dn=(0,c.useMemo)((function(){return(null===sn||void 0===sn?void 0:sn.pipeline_interaction)||{}}),[sn]),pn=(0,c.useMemo)((function(){return(null===an||void 0===an?void 0:an.interactions)||[]}),[an]),fn=(0,c.useMemo)((function(){var e;return un&&(null===(e=Object.keys((null===dn||void 0===dn?void 0:dn.blocks)||{}))||void 0===e?void 0:e.length)>=1}),[un,dn]),hn=(0,c.useMemo)((function(){return!!Y&&fn}),[fn,Y]),vn=(0,c.useMemo)((function(){var e,n={};return null===dn||void 0===dn||null===(e=dn.permissions)||void 0===e||e.forEach((function(e){var t=e.triggers;null===t||void 0===t||t.forEach((function(e){var t=e.schedule_interval,i=e.schedule_type;null!==n&&void 0!==n&&n[i]||(n[i]={}),t&&(n[i][t]=!0)}))})),n}),[dn]),mn=(0,c.useMemo)((function(){return(0,Te.wx)(T,(function(e){return e.uuid===le.C}))}),[T]),jn=(0,c.useMemo)((function(){return Be||{}}),[Be]),gn=jn.description,xn=jn.name,Zn=jn.schedule_interval,bn=jn.schedule_type,yn=jn.settings,Pn=void 0===yn?{}:yn,On=jn.start_time,_n=jn.tags,wn=jn.variables,In=void 0===wn?{}:wn;(0,c.useEffect)((function(){!ze&&Pn&&Fe(Pn)}),[ze,Pn]);var kn=(0,c.useState)(null),Sn=kn[0],Cn=kn[1],Tn=(0,c.useState)({hour:"00",minute:"00"}),En=Tn[0],Mn=Tn[1],Dn=(0,c.useState)({dayOfMonth:null,dayOfWeek:null,hour:null,minute:null,second:null}),Nn=Dn[0],An=Dn[1],Ln=xe.ZP.event_rules.detail(re.Xm.EVENT===bn?"aws":null).data,Hn=(0,c.useMemo)((function(){var e;return(null===Ln||void 0===Ln||null===(e=Ln.event_rule)||void 0===e?void 0:e.rules)||[]}),[Ln]),zn=(0,c.useMemo)((function(){return(0,N.HK)(Hn,(function(e){return e.name}))}),[Hn]),Fn=(0,h.Db)(xe.ZP.pipeline_schedules.useUpdate(Y),{onSuccess:function(e){return(0,Me.wD)(e,{callback:function(){null===l||void 0===l||l(),W.push("/pipelines/[pipeline]/triggers/[...slug]","/pipelines/".concat(K,"/triggers/").concat(Y))},onErrorCallback:function(e,n){return O({errors:n,response:e})}})}}),qn=(0,o.Z)(Fn,2),Un=qn[0],Rn=qn[1].isLoading,Wn=(0,c.useMemo)((function(){return In||{}}),[In]);(0,c.useEffect)((function(){if(On){var e=(0,Ce.a)(On,{localTimezone:B});Cn(null===e||void 0===e?void 0:e.date),Mn(null===e||void 0===e?void 0:e.time);var n=p()(On).utc();An({dayOfMonth:n.date(),dayOfWeek:n.day(),hour:n.hours(),minute:n.minutes(),second:n.seconds()})}else{var t=new Date;Cn(t),Mn(B?{hour:(0,De.lJ)(String(t.getHours())),minute:(0,De.lJ)(String(t.getMinutes()))}:{hour:(0,De.lJ)(String(t.getUTCHours())),minute:(0,De.lJ)(String(t.getUTCMinutes()))})}}),[B,On]),(0,c.useEffect)((function(){Wn&&Object.keys(Wn).length>0&&ee(!0)}),[Wn]),(0,c.useEffect)((function(){Re($?null===mn||void 0===mn?void 0:mn.reduce((function(e,n){var t=n.uuid,i=n.value;return Ae(Ae({},e),{},(0,r.Z)({},t,Wn[t]||i))}),{}):null)}),[mn,$,Wn]);var Bn=(0,c.useMemo)((function(){return(0,ve._U)(Zn)}),[Zn]),Kn=(0,c.useMemo)((function(){return Bn&&en?a().toString(en,{throwExceptionOnParseError:!1}):""}),[en,Bn]),Yn=(0,c.useMemo)((function(){return null===Kn||void 0===Kn?void 0:Kn.toLowerCase().includes("error")}),[Kn]);(0,c.useEffect)((function(){if(P&&!Be){if(X(P.event_matchers),(0,ve._U)(null===P||void 0===P?void 0:P.schedule_interval)){var e=B?(0,ve.lO)(null===P||void 0===P?void 0:P.schedule_interval):null===P||void 0===P?void 0:P.schedule_interval;nn(e),Ke(Ae(Ae({},P),{},{schedule_interval:"custom"}))}else Ke(J?Ae(Ae({},P),{},{schedule_interval:re.U5.ONCE}):P);var n=P.sla;if(n){pe(!0);var t=(0,ve.gU)(n),i=t.time,r=t.unit;Ke((function(e){return Ae(Ae({},e),{},{slaAmount:i,slaUnit:r})}))}}}),[B,J,P,Be,Zn]);var Jn=(0,c.useMemo)((function(){return!(null===ze||void 0===ze||!ze.landing_time_enabled)}),[ze]),Gn=(0,c.useMemo)((function(){return re.Xm.TIME!==bn||![re.U5.DAILY,re.U5.HOURLY,re.U5.MONTHLY,re.U5.WEEKLY].includes(Zn)}),[Zn,bn]),Vn=(0,c.useMemo)((function(){return Jn&&!Gn}),[Gn,Jn]),Xn=(0,c.useCallback)((function(){var e=Ae(Ae({},(0,Ee.GL)(Be,["name","description","schedule_type","tags"])),{},{event_matchers:[],schedule_interval:null,start_time:null,variables:(0,Te.e7)(Ue)});if(Vn){var n=Nn.dayOfMonth,t=Nn.dayOfWeek,i=Nn.hour,r=Nn.minute,o=Nn.second,l=p()("2023-07-01").utc();(0,he.HW)(n)&&(l=l.date(n)),(0,he.HW)(t)&&(l=l.day(t)),(0,he.HW)(i)&&(l=l.hours(i)),(0,he.HW)(r)&&(l=l.minutes(r)),(0,he.HW)(o)&&(l=l.seconds(o)),e.schedule_interval=Bn?en:Be.schedule_interval,e.start_time=l.toISOString()}else re.Xm.EVENT===Be.schedule_type?e.event_matchers=V:(e.schedule_interval=Bn?B&&!Yn&&en?(0,ve.lO)(en,!0):en:Be.schedule_interval,e.start_time=Sn&&null!==En&&void 0!==En&&En.hour&&null!==En&&void 0!==En&&En.minute?(0,ve.XM)(Sn,En,{convertToUtc:B,includeSeconds:!0,localTimezone:B}):null);if(de){var u=null===Be||void 0===Be?void 0:Be.slaAmount,c=null===Be||void 0===Be?void 0:Be.slaUnit;if(!u||isNaN(u)||!c)return void f.Am.error("Please enter a valid SLA",{position:f.Am.POSITION.BOTTOM_RIGHT,toastId:"sla_error"});e.sla=(0,ve.vJ)(u,c)}else null!==P&&void 0!==P&&P.sla&&(e.sla=0);e.settings=ze,Un({pipeline_schedule:Ae(Ae({},e),{},{variables:Je||(null===e||void 0===e?void 0:e.variables)})})}),[Yn,en,Sn,B,de,V,Bn,Nn,P,Ue,Be,ze,Vn,En,Un,Je]),Qn=(0,c.useMemo)((function(){if(null===P||void 0===P||!P.runtime_average)return"Trigger doesn\u2019t have enough history to estimate runtime.";var e=Number(null===P||void 0===P?void 0:P.runtime_average),n=Math.max(Math.floor(e/3600),0),t=Math.max(Math.floor((e-60*n*60)/60),0),i=Math.max(Math.floor(e-(60*n*60+60*t)),0),r=[];return n>=1&&r.push((0,he._6)("hour",n,!0)),t>=1&&r.push((0,he._6)("minute",t,!0)),i>=1&&r.push((0,he._6)("second",i,!0)),r.join(" ")}),[P]),$n=(0,c.useMemo)((function(){if(!Vn)return null;var e=[(0,A.jsxs)(I.Z,{mr:1,children:[(0,A.jsx)(I.Z,{mb:1,children:(0,A.jsx)(S.ZP,{bold:!0,default:!0,small:!0,children:"Minute"})}),(0,A.jsxs)(ce.Z,{compact:!0,monospace:!0,onChange:function(e){An((function(n){return Ae(Ae({},n),{},{minute:e.target.value})}))},value:(null===Nn||void 0===Nn?void 0:Nn.minute)||"",children:[(0,A.jsx)("option",{value:""}),(0,N.w6)(60).map((function(e,n){return(0,A.jsx)("option",{value:n,children:n>=10?String(n):"0".concat(n)},n)}))]})]},"Minute"),(0,A.jsxs)(I.Z,{mr:1,children:[(0,A.jsx)(I.Z,{mb:1,children:(0,A.jsx)(S.ZP,{bold:!0,default:!0,small:!0,children:"Second"})}),(0,A.jsxs)(ce.Z,{compact:!0,monospace:!0,onChange:function(e){An((function(n){return Ae(Ae({},n),{},{second:e.target.value})}))},value:(null===Nn||void 0===Nn?void 0:Nn.second)||"",children:[(0,A.jsx)("option",{value:""}),(0,N.w6)(60).map((function(e,n){return(0,A.jsx)("option",{value:n,children:n>=10?String(n):"0".concat(n)},n)}))]})]},"Second")];return[re.U5.DAILY,re.U5.MONTHLY,re.U5.WEEKLY].includes(Zn)&&e.unshift((0,A.jsxs)(I.Z,{mr:1,children:[(0,A.jsx)(I.Z,{mb:1,children:(0,A.jsx)(S.ZP,{bold:!0,default:!0,small:!0,children:"Hour"})}),(0,A.jsxs)(ce.Z,{compact:!0,monospace:!0,onChange:function(e){An((function(n){return Ae(Ae({},n),{},{hour:e.target.value})}))},value:(null===Nn||void 0===Nn?void 0:Nn.hour)||"",children:[(0,A.jsx)("option",{value:""}),(0,N.w6)(24).map((function(e,n){return(0,A.jsx)("option",{value:n,children:n>=10?String(n):"0".concat(n)},n)}))]})]},"Hour")),re.U5.WEEKLY===Zn?e.unshift((0,A.jsxs)(I.Z,{mr:1,children:[(0,A.jsx)(I.Z,{mb:1,children:(0,A.jsx)(S.ZP,{bold:!0,default:!0,small:!0,children:"Day of the week"})}),(0,A.jsxs)(ce.Z,{compact:!0,monospace:!0,onChange:function(e){An((function(n){return Ae(Ae({},n),{},{dayOfWeek:e.target.value})}))},value:(null===Nn||void 0===Nn?void 0:Nn.dayOfWeek)||"",children:[(0,A.jsx)("option",{value:""}),(0,A.jsx)("option",{value:6,children:"Sunday"}),(0,A.jsx)("option",{value:0,children:"Monday"}),(0,A.jsx)("option",{value:1,children:"Tuesday"}),(0,A.jsx)("option",{value:2,children:"Wednesday"}),(0,A.jsx)("option",{value:3,children:"Thursday"}),(0,A.jsx)("option",{value:4,children:"Friday"}),(0,A.jsx)("option",{value:5,children:"Saturday"})]})]},"Day of the week")):re.U5.MONTHLY===Zn&&e.unshift((0,A.jsxs)(I.Z,{mr:1,children:[(0,A.jsx)(I.Z,{mb:1,children:(0,A.jsx)(S.ZP,{bold:!0,default:!0,small:!0,children:"Day of the month"})}),(0,A.jsxs)(ce.Z,{compact:!0,monospace:!0,onChange:function(e){An((function(n){return Ae(Ae({},n),{},{dayOfMonth:e.target.value})}))},value:(null===Nn||void 0===Nn?void 0:Nn.dayOfMonth)||"",children:[(0,A.jsx)("option",{value:""}),(0,N.w6)(31).map((function(e,n){return(0,A.jsx)("option",{value:n+1,children:n+1>=10?String(n+1):"0".concat(n+1)},n+1)}))]})]},"Day of the month")),(0,A.jsx)(_.ZP,{children:e})}),[Nn,Zn,Vn]),et=(0,c.useMemo)((function(){return[(0,A.jsxs)(_.ZP,{alignItems:"center",children:[(0,A.jsx)(fe.KJ,{default:!0}),(0,A.jsx)(I.Z,{mr:1}),(0,A.jsx)(S.ZP,{default:!0,children:"Trigger name"})]},"trigger_name"),(0,A.jsx)(C.Z,{monospace:!0,onChange:function(e){e.preventDefault(),Ke((function(n){return Ae(Ae({},n),{},{name:e.target.value})}))},placeholder:"Name this trigger",value:xn},"trigger_name_input")]}),[xn]),nt=(0,c.useMemo)((function(){return[(0,A.jsxs)(_.ZP,{alignItems:"center",children:[(0,A.jsx)(fe.KJ,{default:!0}),(0,A.jsx)(I.Z,{mr:1}),(0,A.jsx)(S.ZP,{default:!0,children:"Trigger description"})]},"trigger_description"),(0,A.jsx)(C.Z,{monospace:!0,onChange:function(e){e.preventDefault(),Ke((function(n){return Ae(Ae({},n),{},{description:e.target.value})}))},placeholder:"Description",value:gn},"trigger_description_input")]}),[gn]),tt=(0,c.useMemo)((function(){var e=[et,nt,[(0,A.jsxs)(_.ZP,{alignItems:"center",children:[(0,A.jsx)(fe.Pf,{default:!0,size:1.5*M.iI}),(0,A.jsx)(I.Z,{mr:1}),(0,A.jsx)(S.ZP,{default:!0,children:"Frequency"})]},"frequency"),(0,A.jsxs)("div",{children:[(0,A.jsxs)(ce.Z,{monospace:!0,onChange:function(e){e.preventDefault();var n=e.target.value;Ke((function(e){return Ae(Ae({},e),{},{schedule_interval:n})}))},placeholder:"Choose the frequency to run",value:Zn,children:[Object.values(re.U5).reduce((function(e,n){var t;return!cn||null!==vn&&void 0!==vn&&null!==(t=vn[re.Xm.TIME])&&void 0!==t&&t[n]?e.concat((0,A.jsx)("option",{value:n,children:n.substring(1)},n)):e}),[]),!cn&&(0,A.jsx)("option",{value:"custom",children:"custom"},"custom")]}),!cn&&(0,A.jsx)(I.Z,{mt:1,p:1,children:(0,A.jsxs)(S.ZP,{muted:!0,small:!0,children:["If you don't see the frequency option you need, select ",(0,A.jsx)(S.ZP,{inline:!0,monospace:!0,small:!0,children:"custom"})," and enter CRON syntax."]})})]},"frequency_input")]];return cn||e.push([(0,A.jsxs)(_.ZP,{alignItems:"center",children:[(0,A.jsx)(fe.rs,{default:!0,size:1.5*M.iI}),(0,A.jsx)(I.Z,{mr:1}),(0,A.jsx)(S.ZP,{default:!0,children:"Enable landing time"})]},"frequency"),(0,A.jsxs)("div",{children:[(0,A.jsx)(ae.Z,{checked:Jn,disabled:Gn,onCheck:function(){Fe((function(e){return Ae(Ae({},e),{},{landing_time_enabled:!Jn})}))}}),(0,A.jsxs)(I.Z,{mt:1,p:1,children:[Gn&&(0,A.jsxs)(S.ZP,{muted:!0,small:!0,children:["In order to enable landing time, the trigger\u2019s frequency must be ",(0,A.jsx)(S.ZP,{inline:!0,monospace:!0,small:!0,children:re.U5.HOURLY}),", ",(0,A.jsx)(S.ZP,{inline:!0,monospace:!0,small:!0,children:re.U5.DAILY}),", ",(0,A.jsx)(S.ZP,{inline:!0,monospace:!0,small:!0,children:re.U5.WEEKLY}),", or ",(0,A.jsx)(S.ZP,{inline:!0,monospace:!0,small:!0,children:re.U5.MONTHLY}),"."]}),!Gn&&(0,A.jsx)(S.ZP,{muted:!0,small:!0,children:"Instead of starting at a specific time, this trigger will schedule pipeline runs at a time where it will finish by the specified time below."})]})]},"frequency_input")]),Vn&&e.push([(0,A.jsxs)(_.ZP,{alignItems:"center",children:[(0,A.jsx)(fe.Pf,{default:!0,size:1.5*M.iI}),(0,A.jsx)(I.Z,{mr:1}),(0,A.jsx)(S.ZP,{default:!0,children:"Average runtime"})]},"runtime_average"),(0,A.jsx)(_.ZP,{alignItems:"center",style:{minHeight:"".concat(5.75*M.iI,"px")},children:(0,A.jsx)(S.ZP,{monospace:!0,children:Qn})},"runtime_average_value")]),e.push([(0,A.jsxs)(_.ZP,{alignItems:"center",children:[(0,A.jsx)(fe.aw,{default:!0,size:1.5*M.iI}),(0,A.jsx)(I.Z,{mr:1}),(0,A.jsxs)(S.ZP,{default:!0,children:[Vn&&"Pipeline complete by",!Vn&&"Start date and time"]})]},"start_time"),Vn?$n:(0,A.jsxs)("div",{style:{minHeight:"".concat(5.75*M.iI,"px")},children:[!Xe&&(0,A.jsx)(C.Z,{monospace:!0,onClick:function(){return Qe((function(e){return!e}))},placeholder:"YYYY-MM-DD HH:MM",value:Sn?(0,ve.XM)(Sn,En,{localTimezone:B}):""}),(0,A.jsx)("div",{style:{width:"400px"},children:(0,A.jsx)(Z.Z,{disableEscape:!0,onClickOutside:function(){return Qe(!1)},open:Xe,style:{position:"relative"},children:(0,A.jsx)(g.Z,{localTime:B,selectedDate:Sn,selectedTime:En,setSelectedDate:Cn,setSelectedTime:Mn,topPosition:!0})})})]},"start_time_input")]),J&&e.splice(2,2),Bn&&e.splice(2,0,[(0,A.jsxs)(_.ZP,{alignItems:"center",children:[(0,A.jsx)(fe.EK,{default:!0,size:1.5*M.iI}),(0,A.jsx)(I.Z,{mr:1}),(0,A.jsx)(S.ZP,{default:!0,children:"Cron expression"})]},"cron_expression"),(0,A.jsxs)("div",{children:[(0,A.jsx)(C.Z,{monospace:!0,onChange:function(e){e.preventDefault(),nn(e.target.value)},placeholder:"* * * * *",value:en}),(0,A.jsxs)(I.Z,{mt:1,p:1,children:[(0,A.jsx)(S.ZP,{monospace:!0,xsmall:!0,children:"[minute] [hour] [day(month)] [month] [day(week)]"}),(0,A.jsx)(I.Z,{mb:"2px"}),en?(0,A.jsx)(S.ZP,{danger:Yn,muted:!0,small:!0,children:Yn?"Invalid cron expression. Please check the cron syntax.":(0,A.jsxs)(A.Fragment,{children:['"',Kn,'"']})}):null,B&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(S.ZP,{bold:!0,inline:!0,small:!0,warning:!0,children:"Note:\xa0"}),(0,A.jsxs)(S.ZP,{inline:!0,small:!0,children:["If you have the display_local_timezone setting enabled, the local cron expression above will match your local timezone only",(0,A.jsx)("br",{}),"if the minute and hour values are single values without any special characters, such as the comma, hyphen, or slash.",(0,A.jsx)("br",{}),"You can still use cron expressions with special characters for the minute/hour values, but it will be based in UTC time."]})]})]})]},"cron_expression_input")]),(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(I.Z,{mb:2,px:M.cd,children:(0,A.jsx)(w.Z,{children:"Settings"})}),(0,A.jsx)(q.Z,{light:!0,short:!0}),(0,A.jsx)(k.Z,{columnFlex:[null,1],rows:e})]})}),[Yn,en,Sn,B,cn,Bn,J,Gn,Jn,$n,vn,Kn,Qn,Zn,Xe,Vn,En,et,nt]),it=(0,c.useCallback)((function(e,n){X((function(t){return Object.entries(n).forEach((function(n){var i=(0,o.Z)(n,2),r=i[0],l=i[1];t[e][r]=l})),(0,i.Z)(t)}))}),[X]),rt=(0,c.useMemo)((function(){return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(I.Z,{mb:M.cd,px:M.cd,children:(0,A.jsx)(w.Z,{children:"Settings"})}),(0,A.jsx)(q.Z,{light:!0,short:!0}),(0,A.jsx)(k.Z,{columnFlex:[null,1],rows:[et,nt]}),(0,A.jsxs)(I.Z,{mb:2,mt:5,px:M.cd,children:[(0,A.jsx)(w.Z,{children:"Events"}),(0,A.jsxs)(S.ZP,{muted:!0,children:["Add 1 or more event that will trigger this pipeline to run.",(0,A.jsx)("br",{}),"If you add more than 1 event, this pipeline will trigger if any of the events are received."]}),(0,A.jsxs)(I.Z,{mt:M.Mq,children:[(0,A.jsx)(S.ZP,{bold:!0,large:!0,children:"AWS events"}),(0,A.jsxs)(S.ZP,{muted:!0,children:["In order to retrieve all the possible AWS events you can trigger your pipeline from,",(0,A.jsx)("br",{}),"you\u2019ll need to set 3 environment variables (",(0,A.jsx)(R.Z,{href:"https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-envvars.html",openNewWindow:!0,underline:!0,children:"more info here"}),"):"]}),(0,A.jsx)(I.Z,{mt:1,children:(0,A.jsxs)(te,{monospace:!0,ordered:!0,children:[(0,A.jsx)(S.ZP,{monospace:!0,children:"AWS_REGION_NAME"}),(0,A.jsx)(S.ZP,{monospace:!0,children:"AWS_ACCESS_KEY_ID"}),(0,A.jsx)(S.ZP,{monospace:!0,children:"AWS_SECRET_ACCESS_KEY"})]})})]})]}),(0,A.jsx)(q.Z,{light:!0,short:!0}),(null===V||void 0===V?void 0:V.length)>=1&&(0,A.jsx)(k.Z,{alignTop:!0,columnFlex:[1,1,2,null],columns:[{uuid:"Provider"},{uuid:"Event"},{uuid:"Pattern"},{label:function(){return""},uuid:"delete"}],rows:null===V||void 0===V?void 0:V.map((function(e,n){var t=e.event_type,i=e.name,r=e.pattern,o=e.id||"".concat(t,"-").concat(i,"-").concat(n,"-").concat(JSON.stringify(r)),l=[];return r&&JSON.stringify(r,null,2).split("\n").forEach((function(e){l.push("    ".concat(e))})),[(0,A.jsx)(ce.Z,{monospace:!0,onChange:function(e){return it(n,{event_type:e.target.value})},placeholder:"Event provider",value:t||"",children:F.S5.map((function(e){var n=e.label,t=e.uuid;return(0,A.jsx)("option",{value:t,children:n()},t)}))},"event-provider-".concat(o)),(0,A.jsx)(ce.Z,{monospace:!0,onChange:function(e){var t,i=e.target.value,r=null===(t=zn[i])||void 0===t?void 0:t.event_pattern;it(n,{name:i,pattern:r?JSON.parse(r):null})},placeholder:"Event name",value:i,children:Hn.map((function(e){var n=e.name;return(0,A.jsx)("option",{value:n,children:n},n)}))},"event-name-".concat(o)),r&&(0,A.jsx)(b.Z,{language:"json",small:!0,source:l.join("\n")}),(0,A.jsx)(m.ZP,{default:!0,iconOnly:!0,noBackground:!0,onClick:function(){return X((function(e){return(0,N.oM)(e,n)}))},children:(0,A.jsx)(fe.rF,{default:!0,size:2*M.iI})},"remove_event")]}))}),(0,A.jsx)(I.Z,{p:M.cd,children:(0,A.jsx)(m.ZP,{beforeIcon:(0,A.jsx)(fe.mm,{size:2*M.iI}),onClick:function(){return X((function(e){return e.concat({})}))},outline:!0,children:"Add event matcher"})})]})}),[V,Hn,zn,et,nt,it]),ot=(0,c.useMemo)((function(){var e=(0,ve.M8)(P,Ne);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(I.Z,{mb:M.cd,px:M.cd,children:(0,A.jsx)(w.Z,{children:"Settings"})}),(0,A.jsx)(q.Z,{light:!0,short:!0}),(0,A.jsx)(k.Z,{columnFlex:[null,1],rows:[et,nt]}),(0,A.jsxs)(I.Z,{mb:2,mt:5,px:M.cd,children:[(0,A.jsx)(w.Z,{children:"Endpoint"}),(0,A.jsxs)(S.ZP,{muted:!0,children:["Make a ",(0,A.jsx)(S.ZP,{bold:!0,inline:!0,monospace:!0,children:"POST"})," request to the following endpoint:"]}),(0,A.jsx)(I.Z,{mt:M.Mq,children:(0,A.jsx)(y.Z,{copiedText:e,linkText:e,monospace:!0,withCopyIcon:!0})}),(0,A.jsx)(I.Z,{mt:M.Mq,children:(0,A.jsxs)(_.ZP,{alignItems:"center",children:[(0,A.jsx)(I.Z,{mr:1,children:(0,A.jsx)(ae.Z,{checked:Ne,onCheck:function(){return Le(!Ne)}})}),(0,A.jsx)(S.ZP,{muted:!0,children:"Show alternative endpoint to pass token in headers"})]})})]}),Ne&&(0,A.jsxs)(I.Z,{mb:2,mt:5,px:M.cd,children:[(0,A.jsx)(w.Z,{children:"Headers"}),(0,A.jsx)(S.ZP,{muted:!0,children:"You will need to include the following headers in your request to authenticate with the server."}),(0,A.jsx)(I.Z,{mt:M.Mq,children:(0,A.jsx)(y.Z,{copiedText:"Content-Type: application/json\n  Authorization: Bearer ".concat(null===P||void 0===P?void 0:P.token,"\n  "),withCopyIcon:!0,children:(0,A.jsx)(b.Z,{language:"json",small:!0,source:"\n      Content-Type: application/json\n      Authorization: Bearer ".concat(null===P||void 0===P?void 0:P.token,"\n  ")})})})]}),(0,A.jsxs)(I.Z,{mb:2,mt:5,px:M.cd,children:[(0,A.jsx)(w.Z,{children:"Payload"}),(0,A.jsx)(S.ZP,{muted:!0,children:"You can optionally include runtime variables in your request payload. These runtime variables are accessible from within each pipeline block."}),(0,A.jsx)(I.Z,{mt:M.Mq,children:(0,A.jsx)(y.Z,{copiedText:'{\n  "pipeline_run": {\n    "variables": {\n      "key1": "value1",\n      "key2": "value2"\n    }\n  }\n}\n',withCopyIcon:!0,children:(0,A.jsx)(b.Z,{language:"json",small:!0,source:'\n    {\n      "pipeline_run": {\n        "variables": {\n          "key1": "value1",\n          "key2": "value2"\n        }\n      }\n    }\n'})})})]}),(0,A.jsxs)(I.Z,{mb:2,mt:5,px:M.cd,children:[(0,A.jsx)(w.Z,{children:"Sample cURL command"}),(0,A.jsx)(I.Z,{mt:M.Mq,children:(0,A.jsx)(b.Z,{language:"bash",small:!0,source:Ne?"\n    curl -X POST ".concat(e," \\\n      --header 'Content-Type: application/json' \\\n      --header 'Authorization: Bearer ").concat(null===P||void 0===P?void 0:P.token,'\' \\\n      --data \'\n    {\n      "pipeline_run": {\n        "variables": {\n          "key1": "value1",\n          "key2": "value2"\n        }\n      }\n    }\'\n  '):"\n    curl -X POST ".concat(e,' \\\n      --header \'Content-Type: application/json\' \\\n      --data \'\n    {\n      "pipeline_run": {\n        "variables": {\n          "key1": "value1",\n          "key2": "value2"\n        }\n      }\n    }\'\n')})})]})]})}),[P,Le,nt,et,Ne]),lt=!bn||re.Xm.TIME===bn&&!(J&&Sn||!J&&Sn&&Zn)||re.Xm.EVENT===bn&&(!(null!==V&&void 0!==V&&V.length)||!V.every((function(e){var n=e.event_type,t=e.name;return n&&t}))),ut=(0,c.useMemo)((function(){var e;return(null===d||void 0===d||null===(e=d.blocks)||void 0===e?void 0:e.filter((function(e){var n=e.type;return be.tf.DBT===n})))||[]}),[d]),ct=(0,c.useMemo)((function(){return(0,A.jsxs)(I.Z,{p:M.cd,children:[(0,A.jsxs)(I.Z,{mb:M.HN,children:[(0,A.jsx)(w.Z,{children:"Run settings"}),(0,A.jsxs)(I.Z,{mt:M.Mq,children:[!J&&(0,A.jsxs)(I.Z,{mb:M.Mq,children:[(0,A.jsx)(S.ZP,{children:"Set a timeout for each run of this trigger (optional)"}),(0,A.jsx)(I.Z,{mb:1}),(0,A.jsx)(C.Z,{label:"Timeout (in seconds)",onChange:function(e){return Fe((function(n){return Ae(Ae({},n),{},{timeout:e.target.value})}))},primary:!0,setContentOnMount:!0,type:"number",value:null===ze||void 0===ze?void 0:ze.timeout})]}),(0,A.jsxs)(_.ZP,{alignItems:"center",children:[(0,A.jsx)(I.Z,{mr:2,children:(0,A.jsx)(ae.Z,{checked:de,onCheck:function(e){pe(e),e||Ke((function(e){return Ae(Ae({},e),{},{slaAmount:0})}))}})}),(0,A.jsx)(S.ZP,{default:!0,monospace:!0,children:"Configure trigger SLA"})]}),de&&(0,A.jsx)(k.Z,{columnFlex:[null,1],rows:[[(0,A.jsxs)(_.ZP,{alignItems:"center",children:[(0,A.jsx)(fe.aw,{default:!0,size:1.5*M.iI}),(0,A.jsx)(I.Z,{mr:1}),(0,A.jsx)(S.ZP,{default:!0,children:"SLA"})]},"sla_detail"),(0,A.jsxs)(_.ZP,{children:[(0,A.jsx)(U.Z,{flex:1,children:(0,A.jsx)(C.Z,{fullWidth:!0,monospace:!0,noBorder:!0,onChange:function(e){e.preventDefault(),Ke((function(n){return Ae(Ae({},n),{},{slaAmount:e.target.value})}))},placeholder:"Time",value:null===Be||void 0===Be?void 0:Be.slaAmount})}),(0,A.jsx)(U.Z,{flex:1,children:(0,A.jsx)(ce.Z,{fullWidth:!0,monospace:!0,noBorder:!0,onChange:function(e){e.preventDefault(),Ke((function(n){return Ae(Ae({},n),{},{slaUnit:e.target.value})}))},placeholder:"Select time unit",small:!0,value:null===Be||void 0===Be?void 0:Be.slaUnit,children:Object.keys(ve.tL).map((function(e){return(0,A.jsx)("option",{value:e,children:"".concat(e,"(s)")},e)}))})})]},"sla_input_detail")]]})]}),(0,A.jsx)(I.Z,{mt:M.Mq,children:(0,A.jsx)(_.ZP,{alignItems:"center",children:(0,A.jsx)(x.Z,{checked:null===ze||void 0===ze?void 0:ze.allow_blocks_to_fail,label:"Keep running pipeline even if blocks fail",onClick:function(){return Fe((function(e){return Ae(Ae({},e),{},{allow_blocks_to_fail:!(null!==ze&&void 0!==ze&&ze.allow_blocks_to_fail)})}))}})})}),re.Xm.TIME===bn&&(0,A.jsx)(I.Z,{mt:M.Mq,children:(0,A.jsx)(_.ZP,{alignItems:"center",children:(0,A.jsx)(x.Z,{checked:null===ze||void 0===ze?void 0:ze.skip_if_previous_running,label:"Skip run if previous run still in progress",onClick:function(){return Fe((function(e){return Ae(Ae({},e),{},{skip_if_previous_running:!(null!==ze&&void 0!==ze&&ze.skip_if_previous_running)})}))}})})})]}),(0,A.jsxs)(I.Z,{mb:M.HN,children:[(0,A.jsx)(w.Z,{children:"Runtime variables"}),(0,Ee.Qr)(mn)&&(0,A.jsxs)(I.Z,{mt:1,children:[(0,A.jsx)(S.ZP,{default:!0,children:"This pipeline has no runtime variables."}),(0,A.jsx)(u(),{as:"/pipelines/".concat(K,"/edit?sideview=variables"),href:"/pipelines/[pipeline]/edit",passHref:!0,children:(0,A.jsx)(R.Z,{primary:!0,children:"Click here"})})," ",(0,A.jsx)(S.ZP,{default:!0,inline:!0,children:"to add variables to this pipeline."})]}),(0,A.jsxs)(I.Z,{mt:M.Mq,children:[(0,A.jsxs)(_.ZP,{alignItems:"center",children:[(0,A.jsx)(I.Z,{mr:2,children:(0,A.jsx)(ae.Z,{checked:$,disabled:(0,Ee.Qr)(mn),onCheck:ee})}),(0,A.jsx)(S.ZP,{monospace:!0,muted:!0,children:"Overwrite global variables"})]}),$&&Ue&&Object.entries(Ue).length>0&&(0,A.jsx)(I.Z,{mt:1,children:(0,A.jsx)(k.Z,{columnFlex:[null,1],columns:[{uuid:"Variable"},{uuid:"Value"}],rows:Object.entries(Ue).reduce((function(e,n){var t=(0,o.Z)(n,2),i=t[0],l=t[1];return Pe.sZ===i?e:e.concat([[(0,A.jsx)(S.ZP,{default:!0,monospace:!0,children:i},"variable_".concat(i)),(0,A.jsx)(C.Z,{borderless:!0,monospace:!0,onChange:function(e){e.preventDefault(),Re((function(n){return Ae(Ae({},n),{},(0,r.Z)({},i,e.target.value))}))},paddingHorizontal:0,placeholder:"Variable value",value:l},"variable_uuid_input_".concat(i))]])}),[])})})]})]}),(null===ut||void 0===ut?void 0:ut.length)>=1&&(0,A.jsx)(I.Z,{mb:M.HN,children:(0,A.jsx)(z,{blocks:ut,updateVariables:Re,variables:Ae(Ae({},Wn),Ue)})})]})}),[ut,de,mn,J,$,K,Ue,Be,bn,Wn,pe,ee,Re,ze]),st=xe.ZP.tags.list().data,at=(0,c.useMemo)((function(){return((null===st||void 0===st?void 0:st.tags)||[]).filter((function(e){var n=e.uuid;return!(null!==_n&&void 0!==_n&&_n.includes(n))}))}),[st,_n]),dt=(0,c.useMemo)((function(){return(0,ve.ri)(J)}),[J]),pt=(0,c.useMemo)((function(){return(0,A.jsx)(ge,{containerRef:H,date:Sn,interactions:pn,pipeline:d,pipelineInteraction:dn,pipelineSchedule:Be,setVariables:function(e){Ke((function(n){var t=Ae({},e((null===n||void 0===n?void 0:n.variables)||{})),i=Ae({},t);return null===pn||void 0===pn||pn.forEach((function(e){Object.entries((null===e||void 0===e?void 0:e.variables)||{}).forEach((function(e){var n=(0,o.Z)(e,2),t=n[0],r=n[1].types;i&&t in i&&(i[t]=(0,Se.M)(i[t],r))}))})),Ge(i),Ae(Ae({},n),{},{variables:t})}))},showSummary:Ie.uuid===on,time:En,triggerTypes:dt,variables:null===Be||void 0===Be?void 0:Be.variables})}),[H,Sn,pn,d,dn,Be,on,Ke,Ge,En,dt]),ft=(0,c.useMemo)((function(){return re.fq.ACTIVE===(null===Be||void 0===Be?void 0:Be.status)}),[Be]),ht=E?null===E||void 0===E?void 0:E((function(e){return W.push("/pipelines/[pipeline]/triggers/[...slug]","/pipelines/".concat(null===d||void 0===d?void 0:d.uuid,"/triggers/").concat(e))})):[null,{isLoading:!1}],vt=(0,o.Z)(ht,2),mt=vt[0],jt=vt[1].isLoading,gt=(0,c.useCallback)((function(){null===mt||void 0===mt||mt({pipeline_schedule:Ae(Ae({},Be),{},{variables:Je||(null===Be||void 0===Be?void 0:Be.variables)})})}),[mt,Je,Be]),xt=(0,c.useMemo)((function(){var e,n;return Y?(e=(0,A.jsx)(m.ZP,{linkProps:{as:"/pipelines/".concat(K,"/triggers/").concat(Y),href:"/pipelines/[pipeline]/triggers/[...slug]"},noHoverUnderline:!0,outline:!0,sameColorAsText:!0,children:"Cancel and go back"}),n=(0,A.jsx)(m.ZP,{onClick:Xn,primary:!0,children:"Save trigger"})):we.uuid===on?(e=(0,A.jsx)(m.ZP,{onClick:function(){return null===s||void 0===s?void 0:s()},secondary:!0,children:"Cancel and go back"}),n=(0,A.jsx)(m.ZP,{afterIcon:(0,A.jsx)(fe.Kw,{}),onClick:function(){return ln(_e.uuid)},primary:!0,children:"Next: Customize"})):_e.uuid===on?(e=(0,A.jsx)(m.ZP,{beforeIcon:(0,A.jsx)(fe.Hd,{}),onClick:function(){return ln(we.uuid)},secondary:!0,children:"Back: Settings"}),n=(0,A.jsx)(m.ZP,{afterIcon:(0,A.jsx)(fe.Kw,{}),onClick:function(){return ln(Ie.uuid)},primary:!0,children:"Next: Review"})):Ie.uuid===on&&(e=(0,A.jsx)(m.ZP,{beforeIcon:(0,A.jsx)(fe.Hd,{}),onClick:function(){return ln(_e.uuid)},secondary:!0,children:"Back: Customize"}),n=(0,A.jsxs)(_.ZP,{alignItems:"center",children:[(0,A.jsx)(m.ZP,{beforeIcon:(0,A.jsx)(fe.Bf,{}),loading:jt,onClick:function(){return gt()},primary:!0,children:Y?"Save trigger":"Create trigger"}),!Y&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(I.Z,{mr:M.cd}),(0,A.jsx)(ae.Z,{checked:ft,compact:!0,onCheck:function(e){return Ke((function(n){return Ae(Ae({},n),{},{status:e(ft)?re.fq.ACTIVE:re.fq.INACTIVE})}))}}),(0,A.jsx)(I.Z,{mr:1}),(0,A.jsx)(S.ZP,{default:ft,muted:!ft,small:!0,children:"Set trigger to be active immediately after creating"})]})]})),(0,A.jsx)(I.Z,{p:M.cd,children:(0,A.jsxs)(_.ZP,{alignItems:"center",children:[e,e&&n&&(0,A.jsx)(I.Z,{mr:M.cd}),n]})})}),[gt,jt,ft,s,Xn,Y,K,on,ln]),Zt=(0,c.useMemo)((function(){var e,n,t,i,r,o,l;return"undefined"===typeof(null===d||void 0===d||null===(e=d.settings)||void 0===e||null===(n=e.triggers)||void 0===n?void 0:n.save_in_code_automatically)?null===L||void 0===L||null===(t=L.pipelines)||void 0===t||null===(i=t.settings)||void 0===i||null===(r=i.triggers)||void 0===r?void 0:r.save_in_code_automatically:null===d||void 0===d||null===(o=d.settings)||void 0===o||null===(l=o.triggers)||void 0===l?void 0:l.save_in_code_automatically}),[d,L]);return(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(ie.Z,{after:!cn&&ct,afterHidden:cn,breadcrumbs:[{label:function(){return"Triggers"},linkProps:{as:"/pipelines/".concat(K,"/triggers"),href:"/pipelines/[pipeline]/triggers"}},{label:function(){return null===P||void 0===P?void 0:P.name},linkProps:{as:"/pipelines/".concat(K,"/triggers/").concat(Y),href:"/pipelines/[pipeline]/triggers/[...slug]"}}],errors:t,pageName:Oe.M.TRIGGERS,pipeline:d,setErrors:O,subheader:cn||hn?(0,A.jsx)(I.Z,{px:M.cd,children:(0,A.jsx)(j.Z,{noPadding:!0,onClickTab:function(e){var n=e.uuid;return ln(n)},regularSizeText:!0,selectedTabUUID:on,tabs:ke,underlineColor:(0,D.qn)(be.tf.DATA_LOADER).accent,underlineStyle:!0})}):(0,A.jsxs)(_.ZP,{alignItems:"center",children:[(0,A.jsx)(m.ZP,{disabled:lt,loading:Rn,onClick:Xn,outline:!0,primary:!0,children:"Save changes"}),(0,A.jsx)(I.Z,{mr:M.cd}),(0,A.jsx)(m.ZP,{linkProps:{as:"/pipelines/".concat(K,"/triggers/").concat(Y),href:"/pipelines/[pipeline]/triggers/[...slug]"},noHoverUnderline:!0,outline:!0,sameColorAsText:!0,children:"Cancel"}),Zt&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(I.Z,{mr:M.cd}),(0,A.jsxs)(S.ZP,{default:!0,xsmall:!0,children:["This trigger will automatically be persisted in code.",(0,A.jsx)("br",{}),"To change this behavior, update the ",(0,A.jsx)(u(),{as:"/pipelines/".concat(K,"/settings"),href:"/pipelines/[pipeline]/settings",passHref:!0,children:(0,A.jsx)(R.Z,{openNewWindow:!0,xsmall:!0,children:"pipeline\u2019s settings"})})," or ",(0,A.jsx)(u(),{as:"/settings/workspace/preferences",href:"/settings/workspace/preferences",passHref:!0,children:(0,A.jsx)(R.Z,{openNewWindow:!0,xsmall:!0,children:"project settings"})}),"."]})]})]}),subheaderNoPadding:cn||hn,title:function(){return null!==P&&void 0!==P&&P.name?"Edit ".concat(null===P||void 0===P?void 0:P.name):"New trigger"},uuid:"triggers/edit",children:(0,A.jsxs)("div",{ref:H,children:[(cn||hn)&&(0,A.jsx)(q.Z,{light:!0}),(cn||hn)&&(_e.uuid===on||Ie.uuid===on)&&pt,(!cn||we.uuid===on)&&(!hn||we.uuid===on)&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(I.Z,{p:M.cd,children:[(0,A.jsxs)(I.Z,{mb:2,children:[(0,A.jsx)(w.Z,{children:"Trigger type"}),(0,A.jsx)(S.ZP,{muted:!0,children:"How would you like this pipeline to be triggered?"})]}),(0,A.jsx)(_.ZP,{children:dt.reduce((function(e,n){var t=n.label,i=n.description,r=n.uuid,o=bn===r,l=bn&&!o;return!cn||null!==vn&&void 0!==vn&&vn[r]?e.concat((0,A.jsx)(m.ZP,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){re.Xm.EVENT!==r||null!==V&&void 0!==V&&V.length||X([{}]),Ke((function(e){return Ae(Ae({},e),{},{schedule_type:r})}))},children:(0,A.jsx)(ye.U,{selected:o,children:(0,A.jsxs)(_.ZP,{alignItems:"center",children:[(0,A.jsx)(U.Z,{children:(0,A.jsx)("input",{checked:o,type:"radio"})}),(0,A.jsx)(I.Z,{mr:M.cd}),(0,A.jsxs)(U.Z,{alignItems:"flex-start",flexDirection:"column",children:[(0,A.jsx)(w.Z,{bold:!0,default:!o&&!l,level:5,muted:!o&&l,children:t()}),(0,A.jsx)(S.ZP,{default:!o&&!l,leftAligned:!0,muted:l,children:i()})]})]})})},r)):e}),[])})]}),(0,A.jsxs)(I.Z,{mt:M.HN,children:[re.Xm.TIME===bn&&tt,re.Xm.EVENT===bn&&rt,re.Xm.API===bn&&ot]}),!cn&&(0,A.jsxs)(I.Z,{mt:M.HN,px:M.cd,children:[(0,A.jsxs)(I.Z,{mb:2,children:[(0,A.jsx)(w.Z,{children:"Tags"}),(0,A.jsx)(S.ZP,{muted:!0,children:"Add or remove tags from this trigger."})]}),(0,A.jsx)(se.Z,{removeTag:function(e){Ke((function(n){return Ae(Ae({},n),{},{tags:null===_n||void 0===_n?void 0:_n.filter((function(n){return n!==e.uuid}))})}))},selectTag:function(e){Ke((function(n){return Ae(Ae({},n),{},{tags:(0,N.$C)(e.uuid,_n,(function(n){return n===e.uuid}))})}))},selectedTags:null===_n||void 0===_n?void 0:_n.map((function(e){return{uuid:e}})),tags:at,uuid:"TagsAutocompleteInputField-trigger-".concat(Y)})]})]}),(cn||hn)&&xt]})})})}},55072:function(e,n,t){t.d(n,{Et:function(){return p},Q:function(){return d}});t(82684);var i=t(71180),r=t(55485),o=t(38276),l=t(31748),u=t(72473),c=t(79633),s=t(70515),a=t(28598),d=30,p=9;n.ZP=function(e){var n=e.page,t=e.maxPages,d=e.onUpdate,p=e.totalPages,f=[],h=t;if(h>p)f=Array.from({length:p},(function(e,n){return n}));else{var v=Math.floor(h/2),m=n-v;n+v>=p?(m=p-h+2,h-=2):n-v<=0?(m=0,h-=2):(h-=4,m=n-Math.floor(h/2)),f=Array.from({length:h},(function(e,n){return n+m}))}return(0,a.jsx)(a.Fragment,{children:p>0&&(0,a.jsxs)(r.ZP,{alignItems:"center",children:[(0,a.jsx)(i.ZP,{disabled:0===n,onClick:function(){return d(n-1)},children:(0,a.jsx)(u.Hd,{size:1.5*s.iI,stroke:l.Av})}),!f.includes(0)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Z,{ml:1,children:(0,a.jsx)(i.ZP,{borderLess:!0,noBackground:!0,onClick:function(){return d(0)},children:1})},0),!f.includes(1)&&(0,a.jsx)(o.Z,{ml:1,children:(0,a.jsx)(i.ZP,{noBackground:!0,noPadding:!0,notClickable:!0,children:"..."})},0)]}),f.map((function(e){return(0,a.jsx)(o.Z,{ml:1,children:(0,a.jsx)(i.ZP,{backgroundColor:e===n&&c.a$,borderLess:!0,noBackground:!0,notClickable:e===n,onClick:function(){e!==n&&d(e)},children:e+1})},e)})),!f.includes(p-1)&&(0,a.jsxs)(a.Fragment,{children:[!f.includes(p-2)&&(0,a.jsx)(o.Z,{ml:1,children:(0,a.jsx)(i.ZP,{noBackground:!0,noPadding:!0,notClickable:!0,children:"..."})},0),(0,a.jsx)(o.Z,{ml:1,children:(0,a.jsx)(i.ZP,{borderLess:!0,noBackground:!0,onClick:function(){return d(p-1)},children:p})},p-1)]}),(0,a.jsx)(o.Z,{ml:1}),(0,a.jsx)(i.ZP,{disabled:n===p-1,onClick:function(){return d(n+1)},children:(0,a.jsx)(u.Kw,{size:1.5*s.iI,stroke:l.Av})})]})})}},97196:function(e,n,t){t.d(n,{S5:function(){return o},_P:function(){return l}});var i,r=t(86735);!function(e){e.AWS="aws_event"}(i||(i={}));var o=[{label:function(){return"AWS"},uuid:i.AWS}],l=(0,r.HK)(o,(function(e){return e.uuid}))},83784:function(e,n,t){t.d(n,{C:function(){return i}});var i="global"},14805:function(e,n,t){var i=t(82394),r=t(44495),o=t(55485),l=t(44085),u=t(38276),c=t(30160),s=t(88785),a=t(70515),d=t(86735),p=t(28598);function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n=e.localTime,t=e.selectedDate,i=e.selectedTime,f=e.setSelectedDate,v=e.setSelectedTime,m=e.topPosition;return(0,p.jsxs)(s.J,{absolute:!0,topPosition:m,children:[(0,p.jsx)(r.ZP,{onChange:f,value:t}),(0,p.jsx)(u.Z,{mb:2}),(0,p.jsxs)(o.ZP,{alignItems:"center",children:[(0,p.jsxs)(c.ZP,{default:!0,large:!0,children:["Time (",n?"Local":"UTC","):"]}),(0,p.jsx)(u.Z,{pr:2}),(0,p.jsx)(l.Z,{compact:!0,monospace:!0,onChange:function(e){e.preventDefault(),v((function(n){return h(h({},n),{},{hour:e.target.value})}))},paddingRight:5*a.iI,placeholder:"HH",value:null===i||void 0===i?void 0:i.hour,children:(0,d.m5)(24,0).map((function(e){return String(e).padStart(2,"0")})).map((function(e){return(0,p.jsx)("option",{value:e,children:e},"hour_".concat(e))}))}),(0,p.jsx)(u.Z,{px:1,children:(0,p.jsx)(c.ZP,{bold:!0,large:!0,children:":"})}),(0,p.jsx)(l.Z,{compact:!0,monospace:!0,onChange:function(e){e.preventDefault(),v((function(n){return h(h({},n),{},{minute:e.target.value})}))},paddingRight:5*a.iI,placeholder:"MM",value:null===i||void 0===i?void 0:i.minute,children:(0,d.m5)(60,0).map((function(e){return String(e).padStart(2,"0")})).map((function(e){return(0,p.jsx)("option",{value:e,children:e},"minute_".concat(e))}))})]})]})}},79500:function(e,n,t){t.d(n,{a:function(){return o}});var i=t(16488),r=t(3917);function o(e,n){var t,o;if(null!==n&&void 0!==n&&n.localTimezone)t=(0,r.n$)(e),o={hour:(0,r.lJ)(String(t.getHours())),minute:(0,r.lJ)(String(t.getMinutes()))};else{var l=e.split(" ")[1];t=(0,i.eI)(e),o={hour:l.substring(0,2),minute:l.substring(3,5)}}return{date:t,time:o}}},9134:function(e,n,t){var i=t(82684),r=t(21124),o=t(68432),l=t(38626),u=t(65292),c=t(44897),s=t(95363),a=t(70515),d=t(28598);n.Z=function(e){var n=e.language,t=e.maxWidth,p=e.showLineNumbers,f=e.small,h=e.source,v=e.wrapLines,m=(0,i.useContext)(l.ThemeContext);function j(e){var i=e.value;return(0,d.jsx)(o.Z,{customStyle:{backgroundColor:(m.background||c.Z.background).popup,border:"none",borderRadius:"none",boxShadow:"none",fontFamily:s.Vp,fontSize:f?12:14,marginBottom:0,marginTop:0,maxWidth:t,paddingBottom:2*a.iI,paddingTop:2*a.iI},language:n,lineNumberStyle:{color:(m.content||c.Z.content).muted},showLineNumbers:p,style:u._4,useInlineStyles:!0,wrapLines:v,children:i})}return(0,d.jsx)(r.D,{components:{code:function(e){var n=e.children;return(0,d.jsx)(j,{value:n})}},children:h})}},39457:function(e,n,t){var i,r=t(82394),o=(t(82684),t(64866)),l=t(21764),u=t(55485),c=t(48670),s=t(38276),a=t(30160),d=t(12468),p=t(72473),f=t(70515),h=t(28598);function v(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?v(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}!function(e){e.LEFT="left",e.RIGHT="right"}(i||(i={})),n.Z=function(e){var n,t=e.children,r=e.copiedText,v=e.iconPosition,j=void 0===v?i.LEFT:v,g=e.inverted,x=e.linkProps,Z=e.linkText,b=e.monospace,y=e.muted,P=e.small,O=e.toastMessage,_=e.withCopyIcon;return t?n=(0,h.jsx)("span",{children:t}):_&&(n=(0,h.jsx)(c.Z,m(m({href:"#",inline:!0,muted:y,preventDefault:!0,sameColorAsText:!0,small:P},x),{},{children:(0,h.jsxs)(u.ZP,{alignItems:"center",children:[j===i.LEFT&&(0,h.jsx)(s.Z,{mr:Z?1:0,children:(0,h.jsx)(u.ZP,{alignItems:"center",children:(0,h.jsx)(p.CK,{inverted:g,muted:y,size:2*f.iI})})}),Z&&(0,h.jsx)(a.ZP,{inverted:g,monospace:b,muted:y,small:P,children:Z}),j===i.RIGHT&&(0,h.jsx)(s.Z,{ml:Z?1:0,children:(0,h.jsx)(u.ZP,{alignItems:"center",children:(0,h.jsx)(p.CK,{inverted:g,muted:y})})})]})}))),(0,h.jsx)(d.Z,{block:!0,label:"Copy",size:null,widthFitContent:!0,children:(0,h.jsx)(o.CopyToClipboard,{onCopy:function(){return l.Am.success(O||"Successfully copied to clipboard.",{position:l.Am.POSITION.BOTTOM_RIGHT,toastId:r})},text:r,children:n})})}},22286:function(e,n,t){t.d(n,{M:function(){return a}});var i=t(82394),r=t(75582),o=t(54193),l=t(81728),u=t(42122);function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function a(e,n){var t,c;if(!n||null===n||void 0===n||!n.length)return e;if(null!==n&&void 0!==n&&n.includes(o.zj.LIST))return((0,u.Kn)(e)?Object.keys(e||{}):[e]).map((function(e){return a(e,null===n||void 0===n?void 0:n.filter((function(e){return o.zj.LIST!==e})))}));if(null!==n&&void 0!==n&&n.includes(o.zj.DICTIONARY)){var d=(0,u.Kn)(e)?e:(0,l.Pb)(e)?JSON.parse(e):e;if((0,u.Kn)(d))return Object.entries(d).reduce((function(e,t){var l=(0,r.Z)(t,2),u=l[0],c=l[1];return s(s({},e),{},(0,i.Z)({},u,a(c,null===n||void 0===n?void 0:n.filter((function(e){return o.zj.DICTIONARY!==e})))))}),{})}if(null!==n&&void 0!==n&&n.includes(o.zj.BOOLEAN)){var p,f;if("boolean"===typeof e)return e;if("true"===(null===(p=String(e))||void 0===p?void 0:p.toLowerCase()))return!0;if("false"===(null===(f=String(e))||void 0===f?void 0:f.toLowerCase()))return!1}return null!==n&&void 0!==n&&null!==(t=n.includes)&&void 0!==t&&t.call(n,o.zj.FLOAT)&&(0,l.HW)(e)?parseFloat(e):null!==n&&void 0!==n&&null!==(c=n.includes)&&void 0!==c&&c.call(n,o.zj.INTEGER)&&(0,l.HW)(e)?parseInt(e):e}}}]);