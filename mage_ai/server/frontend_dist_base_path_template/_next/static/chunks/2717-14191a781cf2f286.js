"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2717],{71610:function(e,n,i){var t=i(82394),r=i(75582),l=i(12691),o=i.n(l),s=i(38626),u=i(82684),c=i(32013),a=i(98777),d=i(15338),v=i(48670),h=i(88543),p=i(38276),m=i(4190),f=i(75499),j=i(30160),x=i(35686),g=i(70515),Z=i(30229),b=i(32080),y=i(81728),P=i(3917),O=i(55283),_=i(70320),E=i(28598);function k(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function S(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?k(Object(i),!0).forEach((function(n){(0,t.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):k(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var T={large:!1};n.Z=function(e){var n=e.bookmarkValues,i=e.originalBookmarkValues,l=e.setBookmarkValues,k=e.pipeline,I=(0,u.useContext)(s.ThemeContext),C=(0,_.qB)(),w=(0,u.useState)(null),M=w[0],A=w[1],N=(0,u.useMemo)((function(){return null!==k&&void 0!==k&&k.blocks?(0,b.n)(k):null}),[k]),L=(0,u.useMemo)((function(){return Object.keys(N||{})||[]}),[N]),D=x.ZP.integration_sources.pipelines.list(null===k||void 0===k?void 0:k.uuid,{block_uuid:L},{},{pauseFetch:!(null!==L&&void 0!==L&&L.length)}).data,R=(0,u.useMemo)((function(){return null===D||void 0===D?void 0:D.integration_sources}),[D]);return(0,u.useEffect)((function(){if((null===R||void 0===R?void 0:R.length)>=1&&(!n||!M)){var e={};null===R||void 0===R||R.map((function(n){var i,t=n.block,l=n.streams,o=null===t||void 0===t?void 0:t.uuid;e[o]={},null===(i=Object.entries(l||{}))||void 0===i||i.forEach((function(n){var i,t,l=(0,r.Z)(n,2),s=l[0],u=l[1];e[o][s]=null===u||void 0===u||null===(i=u.state)||void 0===i||null===(t=i.bookmarks)||void 0===t?void 0:t[s]}))})),n||l(e),M||A(e)}}),[n,M,l,A,R]),(0,E.jsxs)(p.Z,{p:g.cd,children:[!D&&(0,E.jsx)(m.Z,{inverted:!0,small:!0}),null===R||void 0===R?void 0:R.map((function(e){var s=e.block,m=e.pipeline_run,x=e.pipeline_schedule,b=e.streams,_=null===s||void 0===s?void 0:s.uuid;return(0,E.jsx)(h.Z,{title:(0,E.jsx)(j.ZP,{color:(0,O.qn)(null===s||void 0===s?void 0:s.type,{blockColor:null===s||void 0===s?void 0:s.color,theme:I}).accent,monospace:!0,children:_}),children:(0,E.jsx)(c.Z,{noBorder:!0,noBoxShadow:!0,children:Object.entries(b||{}).map((function(e){var s,c,b,O,I=(0,r.Z)(e,2),w=I[0],A=I[1],N=A.record,L=A.state,D=(null===L||void 0===L||null===(s=L.bookmarks)||void 0===s?void 0:s[w])||{};return(0,E.jsxs)(a.Z,{noBorderRadius:!0,noPaddingContent:!0,title:(0,E.jsx)(j.ZP,{default:!0,monospace:!0,children:w}),titleXPadding:g.cd*g.iI,titleYPadding:g.cd*g.iI,children:[(0,E.jsx)(h.S,S(S({},T),{},{title:"Last pipeline run started at",children:(0,E.jsx)(j.ZP,{default:!0,monospace:!0,children:(null===m||void 0===m?void 0:m.started_at)&&(0,P.XG)(null===m||void 0===m?void 0:m.started_at,C)})})),(0,E.jsx)(d.Z,{light:!0}),(0,E.jsx)(h.S,S(S({},T),{},{title:"Last pipeline run completed at",children:(0,E.jsx)(j.ZP,{default:!0,monospace:!0,children:(null===m||void 0===m?void 0:m.completed_at)&&(0,P.XG)(null===m||void 0===m?void 0:m.completed_at,C)})})),(0,E.jsx)(d.Z,{light:!0}),(0,E.jsx)(d.Z,{light:!0}),(0,E.jsx)(h.S,S(S({},T),{},{title:"Trigger",children:(0,E.jsx)(o(),{as:"/pipelines/".concat(null===k||void 0===k?void 0:k.uuid,"/triggers/").concat(null===x||void 0===x?void 0:x.id),href:"/pipelines/[pipeline]/triggers/[...slug]",passHref:!0,children:(0,E.jsx)(v.Z,{block:!0,default:!0,openNewWindow:!0,children:(0,E.jsx)(j.ZP,{default:!0,monospace:!0,children:null===x||void 0===x?void 0:x.name})})})})),(0,E.jsx)(d.Z,{light:!0}),(0,E.jsx)(h.S,S(S({},T),{},{title:"Type",children:(0,E.jsx)(j.ZP,{default:!0,monospace:!0,children:(0,y.kC)((null===(c=Z.Z4[null===x||void 0===x?void 0:x.schedule_type])||void 0===c?void 0:c.call(Z.Z4))||"")})})),(0,E.jsx)(d.Z,{light:!0}),(0,E.jsx)(h.S,S(S({},T),{},{title:"Frequency",children:(0,E.jsx)(j.ZP,{default:!0,monospace:!0,children:null===x||void 0===x?void 0:x.schedule_interval})})),(0,E.jsx)(d.Z,{light:!0}),(0,E.jsxs)(p.Z,{p:g.cd,children:[(0,E.jsx)(j.ZP,{bold:!0,large:!0,children:"Bookmark values"}),(0,E.jsx)(p.Z,{mt:1,children:(0,E.jsxs)(j.ZP,{muted:!0,small:!0,children:["Overriding the bookmark values will be applied to all pipeline runs",(0,E.jsx)("br",{}),"for this trigger until there is at least 1 successful pipeline run in this trigger."]})})]}),(0,E.jsx)(d.Z,{light:!0,short:!0}),!(null!==(b=Object.values(D||{}))&&void 0!==b&&b.length)&&(0,E.jsx)(p.Z,{p:g.cd,children:(0,E.jsx)(j.ZP,{muted:!0,children:"There are currently no bookmark values for this stream."})}),Object.entries(D||{}).map((function(e){var o,s,c,a,d,v,p=(0,r.Z)(e,2),m=p[0],f=(p[1],null===n||void 0===n||null===(o=n[_])||void 0===o||null===(s=o[w])||void 0===s?void 0:s[m]),x=(null===i||void 0===i||null===(c=i[_])||void 0===c||null===(a=c[w])||void 0===a||a[m],null===M||void 0===M||null===(d=M[_])||void 0===d||null===(v=d[w])||void 0===v?void 0:v[m]);return(0,u.createElement)(h.S,S(S({},T),{},{title:(0,E.jsx)(j.ZP,{default:!0,monospace:!0,children:m}),description:x&&x!==f&&(0,E.jsxs)(j.ZP,{muted:!0,small:!0,children:["Original bookmark value from the last pipeline run: ",(0,E.jsx)(j.ZP,{default:!0,inline:!0,monospace:!0,small:!0,children:x})]}),key:"".concat(_,"-bookmark-values-").concat(m),textInput:{monospace:!0,onChange:function(e){return l((function(i){var r;return S(S({},i),{},(0,t.Z)({},_,S(S({},null===n||void 0===n?void 0:n[_]),{},(0,t.Z)({},w,S(S({},null===n||void 0===n||null===(r=n[_])||void 0===r?void 0:r[w]),{},(0,t.Z)({},m,e.target.value))))))}))},value:String(f||"")}}))})),(0,E.jsx)(d.Z,{light:!0}),(0,u.createElement)(h.S,S(S({},T),{},{title:"Record",description:"The most recently synced record.",key:"block-uuid-".concat(_,"-").concat(w)}),(0,E.jsx)(f.Z,{columnFlex:[1,null],columns:[{uuid:"Column"},{uuid:"Value"}],rows:null===(O=Object.entries(N||{}))||void 0===O?void 0:O.map((function(e){var n=(0,r.Z)(e,2),i=n[0],t=n[1];return[(0,E.jsx)(j.ZP,{default:!0,monospace:!0,children:i},i),(0,E.jsx)(j.ZP,{default:!0,monospace:!0,children:String(t)},"".concat(i,"-").concat(t))]}))}))]})}))})})}))]})}},12717:function(e,n,i){i.d(n,{Z:function(){return Ue}});var t=i(21831),r=i(82394),l=i(75582),o=i(12691),s=i.n(o),u=i(82684),c=i(20026),a=i.n(c),d=i(92083),v=i.n(d),h=i(21764),p=i(69864),m=i(34376),f=i(71610),j=i(71180),x=i(90299),g=i(14805),Z=i(70652),b=i(50724),y=i(9134),P=i(39457),O=i(38626),_=i(39867),E=i(55485),k=i(85854),S=i(38276),T=i(75499),I=i(30160),C=i(17488),w=i(12468),M=i(44375),A=i(70515),N=i(55283),L=i(86735),D=i(28598);function R(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function U(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?R(Object(i),!0).forEach((function(n){(0,r.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):R(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var H=function(e){var n=e.blocks,i=e.updateVariables,t=e.variables,l=(0,u.useContext)(O.ThemeContext),o=(0,u.useCallback)((function(e,n){return i((function(){var i=(null===t||void 0===t?void 0:t.__mage_variables)||{},l=(null===i||void 0===i?void 0:i.blocks)||{},o=l[e]||{},s=(null===o||void 0===o?void 0:o.configuration)||{};return U(U({},t),{},{__mage_variables:U(U({},i),{},{blocks:U(U({},l),{},(0,r.Z)({},e,U(U({},o),{},{configuration:U(U({},s),n)})))})})}))}),[i,t]);return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(k.Z,{children:"dbt runtime settings"}),(0,D.jsx)(S.Z,{mt:A.Mq,children:(0,D.jsx)(T.Z,{columnFlex:[1,null,null,null],columns:[{uuid:"Block"},{uuid:"Flags"},{uuid:"Prefix"},{uuid:"Suffix"}],compact:!0,rows:null===n||void 0===n?void 0:n.map((function(e){var n,i,r,s=e.type,u=e.uuid,c=(0,M.IU)(e).name,a=(0,N.qn)(s,{blockColor:e.color,theme:l}).accent,d=null===t||void 0===t||null===(n=t.__mage_variables)||void 0===n||null===(i=n.blocks)||void 0===i||null===(r=i[u])||void 0===r?void 0:r.configuration,v=d||{},h=v.prefix,p=v.suffix,m=(null===d||void 0===d?void 0:d.flags)||[],f=!(null===m||void 0===m||!m.includes(M.Dy));return[(0,D.jsx)(w.Z,{block:!0,label:(0,D.jsx)(I.ZP,{monospace:!0,small:!0,children:u}),size:null,widthFitContent:!0,children:(0,D.jsxs)(E.ZP,{alignItems:"center",children:[(0,D.jsx)(_.Z,{color:a,size:1.5*A.iI,square:!0}),(0,D.jsx)(S.Z,{mr:1}),(0,D.jsxs)(I.ZP,{monospace:!0,small:!0,children:[h&&(0,D.jsx)(I.ZP,{default:!0,inline:!0,monospace:!0,small:!0,children:h}),c,p&&(0,D.jsx)(I.ZP,{default:!0,inline:!0,monospace:!0,small:!0,children:p})]})]})},"uuid-".concat(u)),(0,D.jsx)(E.ZP,{alignItems:"center",children:(0,D.jsx)(Z.Z,{checked:f,label:M.Dy,monospace:!0,onClick:function(){return o(u,{flags:f?(0,L.Od)(m,(function(e){return M.Dy===e})):m.concat(M.Dy)})},small:!0})},"flags-".concat(u)),(0,D.jsx)(C.Z,{compact:!0,monospace:!0,onChange:function(e){return o(u,{prefix:e.target.value})},placeholder:"N+, +",small:!0,value:h,width:10*A.iI},"prefix-".concat(u)),(0,D.jsx)(C.Z,{compact:!0,monospace:!0,onChange:function(e){return o(u,{suffix:e.target.value})},placeholder:"+, +N",small:!0,value:p,width:10*A.iI},"suffix-".concat(u))]}))})})]})},q=i(97196),B=i(15338),F=i(97618),z=i(48670),G=i(26304),W=i(44897),Y=i(95363),K=i(61896),V=["children","large","lineHeight","ordered"];function J(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function X(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?J(Object(i),!0).forEach((function(n){(0,r.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):J(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var Q=(0,O.css)([""," "," "," "," "," "," "," "," "," ",""],(function(e){return!e.muted&&"\n    color: ".concat((e.theme.content||W.Z.content).default,";\n  ")}),(function(e){return e.muted&&"\n    color: ".concat((e.theme.content||W.Z.content).muted,";\n  ")}),(function(e){return e.inverted&&"\n    color: ".concat((e.theme.content||W.Z.content).inverted,";\n  ")}),(function(e){return e.color&&"\n    color: ".concat(e.color,";\n  ")}),(function(e){return!e.monospace&&"\n    font-family: ".concat(Y.ry,";\n  ")}),(function(e){return e.monospace&&"\n    font-family: ".concat(Y.Vp,";\n  ")}),(function(e){return e.large&&"\n    ".concat(K.x_,"\n  ")}),(function(e){return!e.large&&!e.small&&"\n    ".concat(K.i3,"\n  ")}),(function(e){return e.small&&"\n    ".concat(K.J5,"\n  ")}),(function(e){return e.lineHeight&&"\n    line-height: ".concat(e.lineHeight,"px !important;\n  ")})),$=O.default.ul.withConfig({displayName:"List__UnorderedListStyle",componentId:"sc-1f6yhbi-0"})(["",""],Q),ee=O.default.ol.withConfig({displayName:"List__OrderedListStyle",componentId:"sc-1f6yhbi-1"})(["",""],Q),ne=O.default.li.withConfig({displayName:"List__ListItemStyle",componentId:"sc-1f6yhbi-2"})(["",""],(function(e){return e.large&&e.marginTop&&"\n    margin-top: ".concat(1*A.iI,"px;\n  ")}));var ie,te=function(e){var n=e.children,i=e.large,t=e.lineHeight,r=e.ordered,l=(0,G.Z)(e,V),o=r?ee:$;return(0,D.jsx)(o,X(X({large:i,lineHeight:t},l),{},{children:u.Children.map(n,(function(e,n){var t;return(0,D.jsx)(ne,X(X({large:i,marginTop:n>=1},l),{},{children:u.cloneElement(e)}),(null===(t=e.props)||void 0===t?void 0:t.key)||n)}))}))},re=i(37899),le=i(75457),oe=i(30229),se=i(57653),ue=i(83784),ce=i(82359),ae=i(44085),de=i(81334),ve=i(69650),he=i(81769),pe=i(54193),me=i(72473),fe=i(81728),je=i(16488),xe=i(70320),ge=(ie={},(0,r.Z)(ie,pe.zj.DATE,me.aw),(0,r.Z)(ie,pe.zj.DATETIME,me.Pf),(0,r.Z)(ie,pe.zj.DICTIONARY,me.$l),(0,r.Z)(ie,pe.zj.FLOAT,me.As),(0,r.Z)(ie,pe.zj.INTEGER,me.qZ),(0,r.Z)(ie,pe.zj.LIST,me.B4),(0,r.Z)(ie,pe.zj.STRING,me.KJ),ie);var Ze=function(e){var n,i,t,r=e.containerRef,o=e.date,s=e.interactions,c=e.pipeline,a=e.pipelineInteraction,d=e.pipelineSchedule,v=e.setVariables,h=e.showSummary,p=e.time,m=e.triggerTypes,f=e.variables,j=(0,u.useMemo)((function(){return(0,L.HK)(s||[],(function(e){return e.uuid}))}),[s]),x=(0,u.useMemo)((function(){return(null===c||void 0===c?void 0:c.blocks)||[]}),[c]),g=(0,u.useMemo)((function(){return(null===a||void 0===a?void 0:a.blocks)||{}}),[a]),Z=(0,u.useMemo)((function(){var e=[];null===x||void 0===x||x.length;return null===x||void 0===x||x.map((function(n,i){var t=(n||{uuid:null}).uuid,l=(null===g||void 0===g?void 0:g[t])||[];null===l||void 0===l||l.length;e.push((0,D.jsx)(S.Z,{p:A.cd,children:null===l||void 0===l?void 0:l.map((function(e,n){return(0,D.jsx)(S.Z,{mt:n>=1?2*A.cd:0,children:(0,D.jsx)(he.Z,{blockInteraction:e,containerRef:r,interaction:null===j||void 0===j?void 0:j[null===e||void 0===e?void 0:e.uuid],setVariables:v,variables:f})},"".concat(null===e||void 0===e?void 0:e.uuid,"-").concat(n))}))}))})),e}),[x,r,j,v,f]),b=(0,xe.qB)(),y=(0,u.useMemo)((function(){return o&&null!==p&&void 0!==p&&p.hour&&null!==p&&void 0!==p&&p.minute?(0,je.XM)(o,p,{convertToUtc:b,includeSeconds:!0,localTimezone:b}):null}),[o,b,p]),P=(0,u.useMemo)((function(){var e=[];null===x||void 0===x||x.length;return null===x||void 0===x||x.map((function(n,i){var t=(n||{uuid:null}).uuid,r=(null===g||void 0===g?void 0:g[t])||[];null===r||void 0===r||r.forEach((function(n,r){var o=null===j||void 0===j?void 0:j[null===n||void 0===n?void 0:n.uuid];Object.entries((null===o||void 0===o?void 0:o.variables)||{}).forEach((function(n,o){var s,u=(0,l.Z)(n,2),c=u[0],a=u[1],d=a.name,v=a.required,h=a.types,p=null===f||void 0===f?void 0:f[c],m="undefined"===typeof p,j=v&&m,x=(null===ge||void 0===ge?void 0:ge[h[0]])||me.KJ,g=[];"undefined"!==typeof p?p&&Array.isArray(p||[])?null===p||void 0===p||p.forEach((function(e){g.push(e&&"object"===typeof e?g.push(JSON.stringify(e)):g.push(String(e)))})):p&&"object"===typeof p?Object.entries(p||{}).forEach((function(e){var n=(0,l.Z)(e,2),i=n[0];n[1]&&g.push(String(i))})):g.push(String(p)):g.push(p||""),e.push([(0,D.jsxs)(E.ZP,{alignItems:"center",children:[(0,D.jsx)(x,{default:!0,size:1.5*A.iI}),(0,D.jsx)(S.Z,{mr:1}),(0,D.jsx)(I.ZP,{default:!0,monospace:!0,children:c})]},"".concat(t,"-").concat(c,"-label-").concat(d,"-").concat(i,"-").concat(r,"-").concat(o)),(0,D.jsx)(S.Z,{py:A.cd,children:(0,D.jsxs)(I.ZP,{danger:j,monospace:!j,muted:m,children:[m&&!j&&"-",j&&"This is required",!m&&!j&&(null===g||void 0===g||null===(s=g.map((function(e){return String(e)})))||void 0===s?void 0:s.join(", "))]})},"".concat(t,"-").concat(c,"-value-").concat(d,"-").concat(p,"-").concat(i,"-").concat(r,"-").concat(o))])}))}))})),(0,D.jsx)(T.Z,{columnFlex:[null,1],rows:e})}),[x,j,f]);return(0,D.jsxs)(D.Fragment,{children:[!h&&Z,h&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(S.Z,{p:A.cd,children:(0,D.jsx)(k.Z,{children:"Settings"})}),(0,D.jsx)(B.Z,{light:!0,short:!0}),(0,D.jsx)(T.Z,{columnFlex:[null,1],rows:[[(0,D.jsxs)(E.ZP,{alignItems:"center",children:[(0,D.jsx)(me.Bf,{default:!0}),(0,D.jsx)(S.Z,{mr:1}),(0,D.jsx)(I.ZP,{default:!0,children:"Trigger type"})]},"trigger_type"),(0,D.jsx)(S.Z,{py:A.cd,children:(0,D.jsx)(I.ZP,{danger:!(null!==d&&void 0!==d&&d.schedule_type),monospace:!0,children:null!==d&&void 0!==d&&d.schedule_type?null===m||void 0===m||null===(n=m.find((function(e){return e.uuid===(null===d||void 0===d?void 0:d.schedule_type)})))||void 0===n||null===(i=n.label)||void 0===i?void 0:i.call(n):"This is required"})},"trigger_type_input")],[(0,D.jsxs)(E.ZP,{alignItems:"center",children:[(0,D.jsx)(me.KJ,{default:!0}),(0,D.jsx)(S.Z,{mr:1}),(0,D.jsx)(I.ZP,{default:!0,children:"Trigger name"})]},"trigger_name"),(0,D.jsx)(S.Z,{py:A.cd,children:(0,D.jsx)(I.ZP,{danger:!(null!==d&&void 0!==d&&d.name),monospace:!0,children:(null===d||void 0===d?void 0:d.name)||"This is required"})},"trigger_name_input")],[(0,D.jsxs)(E.ZP,{alignItems:"center",children:[(0,D.jsx)(me.KJ,{default:!0}),(0,D.jsx)(S.Z,{mr:1}),(0,D.jsx)(I.ZP,{default:!0,children:"Trigger description"})]},"trigger_description"),(0,D.jsx)(S.Z,{py:A.cd,children:(0,D.jsx)(I.ZP,{monospace:!0,muted:!(null!==d&&void 0!==d&&d.description),children:(null===d||void 0===d?void 0:d.description)||"-"})},"trigger_description_input")],[(0,D.jsxs)(E.ZP,{alignItems:"center",children:[(0,D.jsx)(me.Pf,{default:!0,size:1.5*A.iI}),(0,D.jsx)(S.Z,{mr:1}),(0,D.jsx)(I.ZP,{default:!0,children:"Frequency"})]},"frequency"),(0,D.jsx)(S.Z,{py:A.cd,children:(0,D.jsxs)(I.ZP,{danger:!(null!==d&&void 0!==d&&d.schedule_interval),monospace:!0,muted:!(null!==d&&void 0!==d&&d.schedule_interval),children:[(null===d||void 0===d?void 0:d.schedule_interval)&&(0,fe.vg)((null===d||void 0===d||null===(t=d.schedule_interval)||void 0===t?void 0:t.substring(1))||""),!(null!==d&&void 0!==d&&d.schedule_interval)&&"This is required"]})},"frequency_input")],[(0,D.jsxs)(E.ZP,{alignItems:"center",children:[(0,D.jsx)(me.aw,{default:!0,size:1.5*A.iI}),(0,D.jsx)(S.Z,{mr:1}),(0,D.jsx)(I.ZP,{default:!0,children:"Start date and time"})]},"start_time"),(0,D.jsx)(S.Z,{py:A.cd,children:(0,D.jsx)(I.ZP,{danger:!y,monospace:!!y,muted:!y,children:y||"This is required"})},"start_time_input")]]}),(0,D.jsx)(S.Z,{p:A.cd,children:(0,D.jsx)(k.Z,{children:"Customize"})}),(0,D.jsx)(B.Z,{light:!0,short:!0}),P]})]})},be=i(35686),ye=i(77417),Pe=i(44425),Oe=i(88785),_e=i(28795),Ee={label:function(){return"CUSTOMIZE"},uuid:"customize"},ke={label:function(){return"SETTINGS"},uuid:"settings"},Se={label:function(){return"REVIEW"},uuid:"review"},Te=[ke,Ee,Se],Ie=i(32080),Ce=i(22286),we=i(79500),Me=i(8916),Ae=i(42122),Ne=i(72619),Le=i(3917);function De(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function Re(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?De(Object(i),!0).forEach((function(n){(0,r.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):De(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var Ue=function(e){var n=e.creatingWithLimitation,i=e.errors,o=e.fetchPipelineSchedule,c=e.onCancel,d=e.pipeline,O=e.pipelineSchedule,_=e.setErrors,w=e.variables,M=e.useCreateScheduleMutation,R=(0,ye.Z)().project,U=(0,u.useRef)(null),G=(0,m.useRouter)(),W=(0,xe.qB)(),Y=null===d||void 0===d?void 0:d.uuid,K=(0,u.useMemo)((function(){return null===O||void 0===O?void 0:O.id}),[O]),V=(null===d||void 0===d?void 0:d.type)===se.qL.STREAMING,J=(0,u.useMemo)((function(){var e;return null===O||void 0===O||null===(e=O.variables)||void 0===e?void 0:e[oe.PN]}),[O]),X=(0,u.useState)(J?"string"===typeof J&&(0,fe.Pb)(J)?JSON.stringify(J):J:null),Q=X[0],$=X[1],ee=(0,u.useState)([]),ne=ee[0],ie=ee[1],he=(0,u.useState)(!0),pe=he[0],ge=he[1],De=(0,u.useState)(!1),Ue=De[0],He=De[1],qe=(0,u.useState)(!1),Be=qe[0],Fe=qe[1],ze=(0,u.useState)(null),Ge=ze[0],We=ze[1],Ye=(0,u.useState)({}),Ke=Ye[0],Ve=Ye[1],Je=(0,u.useState)(null),Xe=Je[0],Qe=Je[1],$e=(0,u.useState)(null),en=$e[0],nn=$e[1],tn=(0,u.useState)(!1),rn=tn[0],ln=tn[1],on=(0,u.useState)(null),sn=on[0],un=on[1],cn=be.ZP.client_pages.detail("pipeline_schedule:create",{"pipeline_schedules[]":[K],"pipelines[]":[Y]},{},{key:"Triggers/Edit/".concat(Y,"/").concat(K),pauseFetch:!Y||!K}).data,an=((0,u.useMemo)((function(){return null===cn||void 0===cn?void 0:cn.client_page}),[cn]),(0,u.useState)(Te[0].uuid)),dn=an[0],vn=an[1],hn=(0,u.useMemo)((function(){var e;return!(null===R||void 0===R||null===(e=R.features)||void 0===e||!e[ce.d.INTERACTIONS])}),[null===R||void 0===R?void 0:R.features]),pn=(0,u.useMemo)((function(){return!K&&n}),[n,K]),mn=be.ZP.pipeline_interactions.detail(hn&&Y,{filter_for_permissions:1}).data,fn=be.ZP.interactions.pipeline_interactions.list(hn&&Y).data,jn=(0,u.useMemo)((function(){return(null===mn||void 0===mn?void 0:mn.pipeline_interaction)||{}}),[mn]),xn=(0,u.useMemo)((function(){return(null===fn||void 0===fn?void 0:fn.interactions)||[]}),[fn]),gn=(0,u.useMemo)((function(){var e;return hn&&(null===(e=Object.keys((null===jn||void 0===jn?void 0:jn.blocks)||{}))||void 0===e?void 0:e.length)>=1}),[hn,jn]),Zn=(0,u.useMemo)((function(){return!!K&&gn}),[gn,K]),bn=(0,u.useMemo)((function(){var e,n={};return null===jn||void 0===jn||null===(e=jn.permissions)||void 0===e||e.forEach((function(e){var i=e.triggers;null===i||void 0===i||i.forEach((function(e){var i=e.schedule_interval,t=e.schedule_type;null!==n&&void 0!==n&&n[t]||(n[t]={}),i&&(n[t][i]=!0)}))})),n}),[jn]),yn=(0,u.useMemo)((function(){return(0,Me.wx)(w,(function(e){return e.uuid===ue.C}))}),[w]),Pn=(0,u.useMemo)((function(){return Xe||{}}),[Xe]),On=Pn.description,_n=Pn.name,En=Pn.schedule_interval,kn=Pn.schedule_type,Sn=Pn.settings,Tn=void 0===Sn?{}:Sn,In=Pn.start_time,Cn=Pn.tags,wn=Pn.variables,Mn=void 0===wn?{}:wn;(0,u.useEffect)((function(){!Ge&&Tn&&We(Tn)}),[Ge,Tn]);var An=(0,u.useState)(null),Nn=An[0],Ln=An[1],Dn=(0,u.useState)({hour:"00",minute:"00"}),Rn=Dn[0],Un=Dn[1],Hn=(0,u.useState)({dayOfMonth:null,dayOfWeek:null,hour:null,minute:null,second:null}),qn=Hn[0],Bn=Hn[1],Fn=be.ZP.event_rules.detail(oe.Xm.EVENT===kn?"aws":null).data,zn=(0,u.useMemo)((function(){var e;return(null===Fn||void 0===Fn||null===(e=Fn.event_rule)||void 0===e?void 0:e.rules)||[]}),[Fn]),Gn=(0,u.useMemo)((function(){return(0,L.HK)(zn,(function(e){return e.name}))}),[zn]),Wn=(0,p.Db)(be.ZP.pipeline_schedules.useUpdate(K),{onSuccess:function(e){return(0,Ne.wD)(e,{callback:function(){null===o||void 0===o||o(),G.push("/pipelines/[pipeline]/triggers/[...slug]","/pipelines/".concat(Y,"/triggers/").concat(K))},onErrorCallback:function(e,n){return _({errors:n,response:e})}})}}),Yn=(0,l.Z)(Wn,2),Kn=Yn[0],Vn=Yn[1].isLoading,Jn=(0,u.useMemo)((function(){return Mn||{}}),[Mn]);(0,u.useEffect)((function(){if(In){var e=(0,we.a)(In,{localTimezone:W});Ln(null===e||void 0===e?void 0:e.date),Un(null===e||void 0===e?void 0:e.time);var n=v()(In).utc();Bn({dayOfMonth:n.date(),dayOfWeek:n.day(),hour:n.hours(),minute:n.minutes(),second:n.seconds()})}else{var i=new Date;Ln(i),Un(W?{hour:(0,Le.lJ)(String(i.getHours())),minute:(0,Le.lJ)(String(i.getMinutes()))}:{hour:(0,Le.lJ)(String(i.getUTCHours())),minute:(0,Le.lJ)(String(i.getUTCMinutes()))})}}),[W,In]),(0,u.useEffect)((function(){Jn&&Object.keys(Jn).length>0&&ge(!0)}),[Jn]),(0,u.useEffect)((function(){Ve(pe?null===yn||void 0===yn?void 0:yn.reduce((function(e,n){var i=n.uuid,t=n.value;return Re(Re({},e),{},(0,r.Z)({},i,Jn[i]||t))}),{}):null)}),[yn,pe,Jn]);var Xn=(0,u.useMemo)((function(){return(0,je._U)(En)}),[En]),Qn=(0,u.useMemo)((function(){return Xn&&sn?a().toString(sn,{throwExceptionOnParseError:!1}):""}),[sn,Xn]),$n=(0,u.useMemo)((function(){return null===Qn||void 0===Qn?void 0:Qn.toLowerCase().includes("error")}),[Qn]);(0,u.useEffect)((function(){if(O&&!Xe){if(ie(O.event_matchers),(0,je._U)(null===O||void 0===O?void 0:O.schedule_interval)){var e=W?(0,je.lO)(null===O||void 0===O?void 0:O.schedule_interval):null===O||void 0===O?void 0:O.schedule_interval;un(e),Qe(Re(Re({},O),{},{schedule_interval:"custom"}))}else Qe(V?Re(Re({},O),{},{schedule_interval:oe.U5.ONCE}):O);var n=O.sla;if(n){He(!0);var i=(0,je.gU)(n),t=i.time,r=i.unit;Qe((function(e){return Re(Re({},e),{},{slaAmount:t,slaUnit:r})}))}}}),[W,V,O,Xe,En]);var ei=(0,u.useMemo)((function(){return!(null===Ge||void 0===Ge||!Ge.landing_time_enabled)}),[Ge]),ni=(0,u.useMemo)((function(){return oe.Xm.TIME!==kn||![oe.U5.DAILY,oe.U5.HOURLY,oe.U5.MONTHLY,oe.U5.WEEKLY].includes(En)}),[En,kn]),ii=(0,u.useMemo)((function(){return ei&&!ni}),[ni,ei]),ti=(0,u.useCallback)((function(){var e=Re(Re({},(0,Ae.GL)(Xe,["name","description","schedule_type","tags"])),{},{event_matchers:[],schedule_interval:null,start_time:null,variables:(0,Me.e7)(Re(Re({},Ke),Q?(0,r.Z)({},oe.PN,Q):{}))});if(ii){var n=qn.dayOfMonth,i=qn.dayOfWeek,t=qn.hour,l=qn.minute,o=qn.second,s=v()("2023-07-01").utc();(0,fe.HW)(n)&&(s=s.date(n)),(0,fe.HW)(i)&&(s=s.day(i)),(0,fe.HW)(t)&&(s=s.hours(t)),(0,fe.HW)(l)&&(s=s.minutes(l)),(0,fe.HW)(o)&&(s=s.seconds(o)),e.schedule_interval=Xn?sn:Xe.schedule_interval,e.start_time=s.toISOString()}else oe.Xm.EVENT===Xe.schedule_type?e.event_matchers=ne:(e.schedule_interval=Xn?W&&!$n&&sn?(0,je.lO)(sn,!0):sn:Xe.schedule_interval,e.start_time=Nn&&null!==Rn&&void 0!==Rn&&Rn.hour&&null!==Rn&&void 0!==Rn&&Rn.minute?(0,je.XM)(Nn,Rn,{convertToUtc:W,includeSeconds:!0,localTimezone:W}):null);if(Ue){var u=null===Xe||void 0===Xe?void 0:Xe.slaAmount,c=null===Xe||void 0===Xe?void 0:Xe.slaUnit;if(!u||isNaN(u)||!c)return void h.Am.error("Please enter a valid SLA",{position:h.Am.POSITION.BOTTOM_RIGHT,toastId:"sla_error"});e.sla=(0,je.vJ)(u,c)}else null!==O&&void 0!==O&&O.sla&&(e.sla=0);e.settings=Ge,Kn({pipeline_schedule:Re(Re({},e),{},{variables:en||(null===e||void 0===e?void 0:e.variables)})})}),[Q,$n,sn,Nn,W,Ue,ne,Xn,qn,O,Ke,Xe,Ge,ii,Rn,Kn,en]),ri=(0,u.useMemo)((function(){if(null===O||void 0===O||!O.runtime_average)return"Trigger doesn\u2019t have enough history to estimate runtime.";var e=Number(null===O||void 0===O?void 0:O.runtime_average),n=Math.max(Math.floor(e/3600),0),i=Math.max(Math.floor((e-60*n*60)/60),0),t=Math.max(Math.floor(e-(60*n*60+60*i)),0),r=[];return n>=1&&r.push((0,fe._6)("hour",n,!0)),i>=1&&r.push((0,fe._6)("minute",i,!0)),t>=1&&r.push((0,fe._6)("second",t,!0)),r.join(" ")}),[O]),li=(0,u.useMemo)((function(){if(!ii)return null;var e=[(0,D.jsxs)(S.Z,{mr:1,children:[(0,D.jsx)(S.Z,{mb:1,children:(0,D.jsx)(I.ZP,{bold:!0,default:!0,small:!0,children:"Minute"})}),(0,D.jsxs)(ae.Z,{compact:!0,monospace:!0,onChange:function(e){Bn((function(n){return Re(Re({},n),{},{minute:e.target.value})}))},value:(null===qn||void 0===qn?void 0:qn.minute)||"",children:[(0,D.jsx)("option",{value:""}),(0,L.w6)(60).map((function(e,n){return(0,D.jsx)("option",{value:n,children:n>=10?String(n):"0".concat(n)},n)}))]})]},"Minute"),(0,D.jsxs)(S.Z,{mr:1,children:[(0,D.jsx)(S.Z,{mb:1,children:(0,D.jsx)(I.ZP,{bold:!0,default:!0,small:!0,children:"Second"})}),(0,D.jsxs)(ae.Z,{compact:!0,monospace:!0,onChange:function(e){Bn((function(n){return Re(Re({},n),{},{second:e.target.value})}))},value:(null===qn||void 0===qn?void 0:qn.second)||"",children:[(0,D.jsx)("option",{value:""}),(0,L.w6)(60).map((function(e,n){return(0,D.jsx)("option",{value:n,children:n>=10?String(n):"0".concat(n)},n)}))]})]},"Second")];return[oe.U5.DAILY,oe.U5.MONTHLY,oe.U5.WEEKLY].includes(En)&&e.unshift((0,D.jsxs)(S.Z,{mr:1,children:[(0,D.jsx)(S.Z,{mb:1,children:(0,D.jsx)(I.ZP,{bold:!0,default:!0,small:!0,children:"Hour"})}),(0,D.jsxs)(ae.Z,{compact:!0,monospace:!0,onChange:function(e){Bn((function(n){return Re(Re({},n),{},{hour:e.target.value})}))},value:(null===qn||void 0===qn?void 0:qn.hour)||"",children:[(0,D.jsx)("option",{value:""}),(0,L.w6)(24).map((function(e,n){return(0,D.jsx)("option",{value:n,children:n>=10?String(n):"0".concat(n)},n)}))]})]},"Hour")),oe.U5.WEEKLY===En?e.unshift((0,D.jsxs)(S.Z,{mr:1,children:[(0,D.jsx)(S.Z,{mb:1,children:(0,D.jsx)(I.ZP,{bold:!0,default:!0,small:!0,children:"Day of the week"})}),(0,D.jsxs)(ae.Z,{compact:!0,monospace:!0,onChange:function(e){Bn((function(n){return Re(Re({},n),{},{dayOfWeek:e.target.value})}))},value:(null===qn||void 0===qn?void 0:qn.dayOfWeek)||"",children:[(0,D.jsx)("option",{value:""}),(0,D.jsx)("option",{value:6,children:"Sunday"}),(0,D.jsx)("option",{value:0,children:"Monday"}),(0,D.jsx)("option",{value:1,children:"Tuesday"}),(0,D.jsx)("option",{value:2,children:"Wednesday"}),(0,D.jsx)("option",{value:3,children:"Thursday"}),(0,D.jsx)("option",{value:4,children:"Friday"}),(0,D.jsx)("option",{value:5,children:"Saturday"})]})]},"Day of the week")):oe.U5.MONTHLY===En&&e.unshift((0,D.jsxs)(S.Z,{mr:1,children:[(0,D.jsx)(S.Z,{mb:1,children:(0,D.jsx)(I.ZP,{bold:!0,default:!0,small:!0,children:"Day of the month"})}),(0,D.jsxs)(ae.Z,{compact:!0,monospace:!0,onChange:function(e){Bn((function(n){return Re(Re({},n),{},{dayOfMonth:e.target.value})}))},value:(null===qn||void 0===qn?void 0:qn.dayOfMonth)||"",children:[(0,D.jsx)("option",{value:""}),(0,L.w6)(31).map((function(e,n){return(0,D.jsx)("option",{value:n+1,children:n+1>=10?String(n+1):"0".concat(n+1)},n+1)}))]})]},"Day of the month")),(0,D.jsx)(E.ZP,{children:e})}),[qn,En,ii]),oi=(0,u.useMemo)((function(){return[(0,D.jsxs)(E.ZP,{alignItems:"center",children:[(0,D.jsx)(me.KJ,{default:!0}),(0,D.jsx)(S.Z,{mr:1}),(0,D.jsx)(I.ZP,{default:!0,children:"Trigger name"})]},"trigger_name"),(0,D.jsx)(C.Z,{monospace:!0,onChange:function(e){e.preventDefault(),Qe((function(n){return Re(Re({},n),{},{name:e.target.value})}))},placeholder:"Name this trigger",value:_n},"trigger_name_input")]}),[_n]),si=(0,u.useMemo)((function(){return[(0,D.jsxs)(E.ZP,{alignItems:"center",children:[(0,D.jsx)(me.KJ,{default:!0}),(0,D.jsx)(S.Z,{mr:1}),(0,D.jsx)(I.ZP,{default:!0,children:"Trigger description"})]},"trigger_description"),(0,D.jsx)(C.Z,{monospace:!0,onChange:function(e){e.preventDefault(),Qe((function(n){return Re(Re({},n),{},{description:e.target.value})}))},placeholder:"Description",value:On},"trigger_description_input")]}),[On]),ui=(0,u.useMemo)((function(){var e=[oi,si,[(0,D.jsxs)(E.ZP,{alignItems:"center",children:[(0,D.jsx)(me.Pf,{default:!0,size:1.5*A.iI}),(0,D.jsx)(S.Z,{mr:1}),(0,D.jsx)(I.ZP,{default:!0,children:"Frequency"})]},"frequency"),(0,D.jsxs)("div",{children:[(0,D.jsxs)(ae.Z,{monospace:!0,onChange:function(e){e.preventDefault();var n=e.target.value;Qe((function(e){return Re(Re({},e),{},{schedule_interval:n})}))},placeholder:"Choose the frequency to run",value:En,children:[Object.values(oe.U5).reduce((function(e,n){var i;return!pn||null!==bn&&void 0!==bn&&null!==(i=bn[oe.Xm.TIME])&&void 0!==i&&i[n]?e.concat((0,D.jsx)("option",{value:n,children:n.substring(1)},n)):e}),[]),!pn&&(0,D.jsx)("option",{value:"custom",children:"custom"},"custom")]}),!pn&&(0,D.jsx)(S.Z,{mt:1,p:1,children:(0,D.jsxs)(I.ZP,{muted:!0,small:!0,children:["If you don't see the frequency option you need, select ",(0,D.jsx)(I.ZP,{inline:!0,monospace:!0,small:!0,children:"custom"})," and enter CRON syntax."]})})]},"frequency_input")]];return pn||e.push([(0,D.jsxs)(E.ZP,{alignItems:"center",children:[(0,D.jsx)(me.rs,{default:!0,size:1.5*A.iI}),(0,D.jsx)(S.Z,{mr:1}),(0,D.jsx)(I.ZP,{default:!0,children:"Enable landing time"})]},"frequency"),(0,D.jsxs)("div",{children:[(0,D.jsx)(ve.Z,{checked:ei,disabled:ni,onCheck:function(){We((function(e){return Re(Re({},e),{},{landing_time_enabled:!ei})}))}}),(0,D.jsxs)(S.Z,{mt:1,p:1,children:[ni&&(0,D.jsxs)(I.ZP,{muted:!0,small:!0,children:["In order to enable landing time, the trigger\u2019s frequency must be ",(0,D.jsx)(I.ZP,{inline:!0,monospace:!0,small:!0,children:oe.U5.HOURLY}),", ",(0,D.jsx)(I.ZP,{inline:!0,monospace:!0,small:!0,children:oe.U5.DAILY}),", ",(0,D.jsx)(I.ZP,{inline:!0,monospace:!0,small:!0,children:oe.U5.WEEKLY}),", or ",(0,D.jsx)(I.ZP,{inline:!0,monospace:!0,small:!0,children:oe.U5.MONTHLY}),"."]}),!ni&&(0,D.jsx)(I.ZP,{muted:!0,small:!0,children:"Instead of starting at a specific time, this trigger will schedule pipeline runs at a time where it will finish by the specified time below."})]})]},"frequency_input")]),ii&&e.push([(0,D.jsxs)(E.ZP,{alignItems:"center",children:[(0,D.jsx)(me.Pf,{default:!0,size:1.5*A.iI}),(0,D.jsx)(S.Z,{mr:1}),(0,D.jsx)(I.ZP,{default:!0,children:"Average runtime"})]},"runtime_average"),(0,D.jsx)(E.ZP,{alignItems:"center",style:{minHeight:"".concat(5.75*A.iI,"px")},children:(0,D.jsx)(I.ZP,{monospace:!0,children:ri})},"runtime_average_value")]),e.push([(0,D.jsxs)(E.ZP,{alignItems:"center",children:[(0,D.jsx)(me.aw,{default:!0,size:1.5*A.iI}),(0,D.jsx)(S.Z,{mr:1}),(0,D.jsxs)(I.ZP,{default:!0,children:[ii&&"Pipeline complete by",!ii&&"Start date and time"]})]},"start_time"),ii?li:(0,D.jsxs)("div",{style:{minHeight:"".concat(5.75*A.iI,"px")},children:[!rn&&(0,D.jsx)(C.Z,{monospace:!0,onClick:function(){return ln((function(e){return!e}))},placeholder:"YYYY-MM-DD HH:MM",value:Nn?(0,je.XM)(Nn,Rn,{localTimezone:W}):""}),(0,D.jsx)("div",{style:{width:"400px"},children:(0,D.jsx)(b.Z,{disableEscape:!0,onClickOutside:function(){return ln(!1)},open:rn,style:{position:"relative"},children:(0,D.jsx)(g.Z,{localTime:W,selectedDate:Nn,selectedTime:Rn,setSelectedDate:Ln,setSelectedTime:Un,topPosition:!0})})})]},"start_time_input")]),V&&e.splice(2,2),Xn&&e.splice(2,0,[(0,D.jsxs)(E.ZP,{alignItems:"center",children:[(0,D.jsx)(me.EK,{default:!0,size:1.5*A.iI}),(0,D.jsx)(S.Z,{mr:1}),(0,D.jsx)(I.ZP,{default:!0,children:"Cron expression"})]},"cron_expression"),(0,D.jsxs)("div",{children:[(0,D.jsx)(C.Z,{monospace:!0,onChange:function(e){e.preventDefault(),un(e.target.value)},placeholder:"* * * * *",value:sn}),(0,D.jsxs)(S.Z,{mt:1,p:1,children:[(0,D.jsx)(I.ZP,{monospace:!0,xsmall:!0,children:"[minute] [hour] [day(month)] [month] [day(week)]"}),(0,D.jsx)(S.Z,{mb:"2px"}),sn?(0,D.jsx)(I.ZP,{danger:$n,muted:!0,small:!0,children:$n?"Invalid cron expression. Please check the cron syntax.":(0,D.jsxs)(D.Fragment,{children:['"',Qn,'"']})}):null,W&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(I.ZP,{bold:!0,inline:!0,small:!0,warning:!0,children:"Note:\xa0"}),(0,D.jsxs)(I.ZP,{inline:!0,small:!0,children:["If you have the display_local_timezone setting enabled, the local cron expression above will match your local timezone only",(0,D.jsx)("br",{}),"if the minute and hour values are single values without any special characters, such as the comma, hyphen, or slash.",(0,D.jsx)("br",{}),"You can still use cron expressions with special characters for the minute/hour values, but it will be based in UTC time."]})]})]})]},"cron_expression_input")]),(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(S.Z,{mb:2,px:A.cd,children:(0,D.jsx)(k.Z,{children:"Settings"})}),(0,D.jsx)(B.Z,{light:!0,short:!0}),(0,D.jsx)(T.Z,{columnFlex:[null,1],rows:e})]})}),[$n,sn,Nn,W,pn,Xn,V,ni,ei,li,bn,Qn,ri,En,rn,ii,Rn,oi,si]),ci=(0,u.useCallback)((function(e,n){ie((function(i){return Object.entries(n).forEach((function(n){var t=(0,l.Z)(n,2),r=t[0],o=t[1];i[e][r]=o})),(0,t.Z)(i)}))}),[ie]),ai=(0,u.useMemo)((function(){return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(S.Z,{mb:A.cd,px:A.cd,children:(0,D.jsx)(k.Z,{children:"Settings"})}),(0,D.jsx)(B.Z,{light:!0,short:!0}),(0,D.jsx)(T.Z,{columnFlex:[null,1],rows:[oi,si]}),(0,D.jsxs)(S.Z,{mb:2,mt:5,px:A.cd,children:[(0,D.jsx)(k.Z,{children:"Events"}),(0,D.jsxs)(I.ZP,{muted:!0,children:["Add 1 or more event that will trigger this pipeline to run.",(0,D.jsx)("br",{}),"If you add more than 1 event, this pipeline will trigger if any of the events are received."]}),(0,D.jsxs)(S.Z,{mt:A.Mq,children:[(0,D.jsx)(I.ZP,{bold:!0,large:!0,children:"AWS events"}),(0,D.jsxs)(I.ZP,{muted:!0,children:["In order to retrieve all the possible AWS events you can trigger your pipeline from,",(0,D.jsx)("br",{}),"you\u2019ll need to set 3 environment variables (",(0,D.jsx)(z.Z,{href:"https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-envvars.html",openNewWindow:!0,underline:!0,children:"more info here"}),"):"]}),(0,D.jsx)(S.Z,{mt:1,children:(0,D.jsxs)(te,{monospace:!0,ordered:!0,children:[(0,D.jsx)(I.ZP,{monospace:!0,children:"AWS_REGION_NAME"}),(0,D.jsx)(I.ZP,{monospace:!0,children:"AWS_ACCESS_KEY_ID"}),(0,D.jsx)(I.ZP,{monospace:!0,children:"AWS_SECRET_ACCESS_KEY"})]})})]})]}),(0,D.jsx)(B.Z,{light:!0,short:!0}),(null===ne||void 0===ne?void 0:ne.length)>=1&&(0,D.jsx)(T.Z,{alignTop:!0,columnFlex:[1,1,2,null],columns:[{uuid:"Provider"},{uuid:"Event"},{uuid:"Pattern"},{label:function(){return""},uuid:"delete"}],rows:null===ne||void 0===ne?void 0:ne.map((function(e,n){var i=e.event_type,t=e.name,r=e.pattern,l=e.id||"".concat(i,"-").concat(t,"-").concat(n,"-").concat(JSON.stringify(r)),o=[];return r&&JSON.stringify(r,null,2).split("\n").forEach((function(e){o.push("    ".concat(e))})),[(0,D.jsx)(ae.Z,{monospace:!0,onChange:function(e){return ci(n,{event_type:e.target.value})},placeholder:"Event provider",value:i||"",children:q.S5.map((function(e){var n=e.label,i=e.uuid;return(0,D.jsx)("option",{value:i,children:n()},i)}))},"event-provider-".concat(l)),(0,D.jsx)(ae.Z,{monospace:!0,onChange:function(e){var i,t=e.target.value,r=null===(i=Gn[t])||void 0===i?void 0:i.event_pattern;ci(n,{name:t,pattern:r?JSON.parse(r):null})},placeholder:"Event name",value:t,children:zn.map((function(e){var n=e.name;return(0,D.jsx)("option",{value:n,children:n},n)}))},"event-name-".concat(l)),r&&(0,D.jsx)(y.Z,{language:"json",small:!0,source:o.join("\n")}),(0,D.jsx)(j.ZP,{default:!0,iconOnly:!0,noBackground:!0,onClick:function(){return ie((function(e){return(0,L.oM)(e,n)}))},children:(0,D.jsx)(me.rF,{default:!0,size:2*A.iI})},"remove_event")]}))}),(0,D.jsx)(S.Z,{p:A.cd,children:(0,D.jsx)(j.ZP,{beforeIcon:(0,D.jsx)(me.mm,{size:2*A.iI}),onClick:function(){return ie((function(e){return e.concat({})}))},outline:!0,children:"Add event matcher"})})]})}),[ne,zn,Gn,oi,si,ci]),di=(0,u.useMemo)((function(){var e=(0,je.M8)(O,Be);return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(S.Z,{mb:A.cd,px:A.cd,children:(0,D.jsx)(k.Z,{children:"Settings"})}),(0,D.jsx)(B.Z,{light:!0,short:!0}),(0,D.jsx)(T.Z,{columnFlex:[null,1],rows:[oi,si]}),(0,D.jsxs)(S.Z,{mb:2,mt:5,px:A.cd,children:[(0,D.jsx)(k.Z,{children:"Endpoint"}),(0,D.jsxs)(I.ZP,{muted:!0,children:["Make a ",(0,D.jsx)(I.ZP,{bold:!0,inline:!0,monospace:!0,children:"POST"})," request to the following endpoint:"]}),(0,D.jsx)(S.Z,{mt:A.Mq,children:(0,D.jsx)(P.Z,{copiedText:e,linkText:e,monospace:!0,withCopyIcon:!0})}),(0,D.jsx)(S.Z,{mt:A.Mq,children:(0,D.jsxs)(E.ZP,{alignItems:"center",children:[(0,D.jsx)(S.Z,{mr:1,children:(0,D.jsx)(ve.Z,{checked:Be,onCheck:function(){return Fe(!Be)}})}),(0,D.jsx)(I.ZP,{muted:!0,children:"Show alternative endpoint to pass token in headers"})]})})]}),Be&&(0,D.jsxs)(S.Z,{mb:2,mt:5,px:A.cd,children:[(0,D.jsx)(k.Z,{children:"Headers"}),(0,D.jsx)(I.ZP,{muted:!0,children:"You will need to include the following headers in your request to authenticate with the server."}),(0,D.jsx)(S.Z,{mt:A.Mq,children:(0,D.jsx)(P.Z,{copiedText:"Content-Type: application/json\n  Authorization: Bearer ".concat(null===O||void 0===O?void 0:O.token,"\n  "),withCopyIcon:!0,children:(0,D.jsx)(y.Z,{language:"json",small:!0,source:"\n      Content-Type: application/json\n      Authorization: Bearer ".concat(null===O||void 0===O?void 0:O.token,"\n  ")})})})]}),(0,D.jsxs)(S.Z,{mb:2,mt:5,px:A.cd,children:[(0,D.jsx)(k.Z,{children:"Payload"}),(0,D.jsx)(I.ZP,{muted:!0,children:"You can optionally include runtime variables in your request payload. These runtime variables are accessible from within each pipeline block."}),(0,D.jsx)(S.Z,{mt:A.Mq,children:(0,D.jsx)(P.Z,{copiedText:'{\n  "pipeline_run": {\n    "variables": {\n      "key1": "value1",\n      "key2": "value2"\n    }\n  }\n}\n',withCopyIcon:!0,children:(0,D.jsx)(y.Z,{language:"json",small:!0,source:'\n    {\n      "pipeline_run": {\n        "variables": {\n          "key1": "value1",\n          "key2": "value2"\n        }\n      }\n    }\n'})})})]}),(0,D.jsxs)(S.Z,{mb:2,mt:5,px:A.cd,children:[(0,D.jsx)(k.Z,{children:"Sample cURL command"}),(0,D.jsx)(S.Z,{mt:A.Mq,children:(0,D.jsx)(y.Z,{language:"bash",small:!0,source:Be?"\n    curl -X POST ".concat(e," \\\n      --header 'Content-Type: application/json' \\\n      --header 'Authorization: Bearer ").concat(null===O||void 0===O?void 0:O.token,'\' \\\n      --data \'\n    {\n      "pipeline_run": {\n        "variables": {\n          "key1": "value1",\n          "key2": "value2"\n        }\n      }\n    }\'\n  '):"\n    curl -X POST ".concat(e,' \\\n      --header \'Content-Type: application/json\' \\\n      --data \'\n    {\n      "pipeline_run": {\n        "variables": {\n          "key1": "value1",\n          "key2": "value2"\n        }\n      }\n    }\'\n')})})]})]})}),[O,Fe,si,oi,Be]),vi=!kn||oe.Xm.TIME===kn&&!(V&&Nn||!V&&Nn&&En)||oe.Xm.EVENT===kn&&(!(null!==ne&&void 0!==ne&&ne.length)||!ne.every((function(e){var n=e.event_type,i=e.name;return n&&i}))),hi=(0,u.useMemo)((function(){var e;return(null===d||void 0===d||null===(e=d.blocks)||void 0===e?void 0:e.filter((function(e){var n=e.type;return Pe.tf.DBT===n})))||[]}),[d]),pi=(0,u.useMemo)((function(){return null!==d&&void 0!==d&&d.blocks?(0,Ie.n)(d):null}),[d]),mi=(0,u.useMemo)((function(){var e,n;return(0,D.jsxs)(S.Z,{py:A.cd,children:[(0,D.jsxs)(S.Z,{mb:A.HN,px:A.cd,children:[(0,D.jsx)(k.Z,{children:"Run settings"}),(0,D.jsxs)(S.Z,{mt:A.Mq,children:[!V&&(0,D.jsxs)(S.Z,{mb:A.Mq,children:[(0,D.jsx)(I.ZP,{children:"Set a timeout for each run of this trigger (optional)"}),(0,D.jsx)(S.Z,{mb:1}),(0,D.jsx)(C.Z,{label:"Timeout (in seconds)",onChange:function(e){return We((function(n){return Re(Re({},n),{},{timeout:e.target.value})}))},primary:!0,setContentOnMount:!0,type:"number",value:null===Ge||void 0===Ge?void 0:Ge.timeout})]}),(0,D.jsxs)(E.ZP,{alignItems:"center",children:[(0,D.jsx)(S.Z,{mr:2,children:(0,D.jsx)(ve.Z,{checked:Ue,onCheck:function(e){He(e),e||Qe((function(e){return Re(Re({},e),{},{slaAmount:0})}))}})}),(0,D.jsx)(I.ZP,{default:!0,monospace:!0,children:"Configure trigger SLA"})]}),Ue&&(0,D.jsx)(T.Z,{columnFlex:[null,1],rows:[[(0,D.jsxs)(E.ZP,{alignItems:"center",children:[(0,D.jsx)(me.aw,{default:!0,size:1.5*A.iI}),(0,D.jsx)(S.Z,{mr:1}),(0,D.jsx)(I.ZP,{default:!0,children:"SLA"})]},"sla_detail"),(0,D.jsxs)(E.ZP,{children:[(0,D.jsx)(F.Z,{flex:1,children:(0,D.jsx)(C.Z,{fullWidth:!0,monospace:!0,noBorder:!0,onChange:function(e){e.preventDefault(),Qe((function(n){return Re(Re({},n),{},{slaAmount:e.target.value})}))},placeholder:"Time",value:null===Xe||void 0===Xe?void 0:Xe.slaAmount})}),(0,D.jsx)(F.Z,{flex:1,children:(0,D.jsx)(ae.Z,{fullWidth:!0,monospace:!0,noBorder:!0,onChange:function(e){e.preventDefault(),Qe((function(n){return Re(Re({},n),{},{slaUnit:e.target.value})}))},placeholder:"Select time unit",small:!0,value:null===Xe||void 0===Xe?void 0:Xe.slaUnit,children:Object.keys(je.tL).map((function(e){return(0,D.jsx)("option",{value:e,children:"".concat(e,"(s)")},e)}))})})]},"sla_input_detail")]]})]}),(0,D.jsx)(S.Z,{mt:A.Mq,children:(0,D.jsx)(E.ZP,{alignItems:"center",children:(0,D.jsx)(Z.Z,{checked:null===Ge||void 0===Ge?void 0:Ge.allow_blocks_to_fail,label:"Keep running pipeline even if blocks fail",onClick:function(){return We((function(e){return Re(Re({},e),{},{allow_blocks_to_fail:!(null!==Ge&&void 0!==Ge&&Ge.allow_blocks_to_fail)})}))}})})}),oe.Xm.TIME===kn&&(0,D.jsx)(S.Z,{mt:A.Mq,children:(0,D.jsx)(E.ZP,{alignItems:"center",children:(0,D.jsx)(Z.Z,{checked:null===Ge||void 0===Ge?void 0:Ge.skip_if_previous_running,label:"Skip run if previous run still in progress",onClick:function(){return We((function(e){return Re(Re({},e),{},{skip_if_previous_running:!(null!==Ge&&void 0!==Ge&&Ge.skip_if_previous_running)})}))}})})})]}),(0,D.jsxs)(S.Z,{mb:A.HN,children:[(0,D.jsxs)(S.Z,{px:A.cd,children:[(0,D.jsx)(k.Z,{children:"Runtime variables"}),(0,Ae.Qr)(yn)&&(0,D.jsxs)(S.Z,{mt:1,children:[(0,D.jsx)(I.ZP,{default:!0,children:"This pipeline has no runtime variables."}),(0,D.jsx)(s(),{as:"/pipelines/".concat(Y,"/edit?sideview=variables"),href:"/pipelines/[pipeline]/edit",passHref:!0,children:(0,D.jsx)(z.Z,{primary:!0,children:"Click here"})})," ",(0,D.jsx)(I.ZP,{default:!0,inline:!0,children:"to add variables to this pipeline."})]})]}),(0,D.jsx)(S.Z,{mt:A.Mq,children:(0,D.jsx)(re.Z,{enableVariablesOverwrite:!0,originalVariables:null===O||void 0===O?void 0:O.variables,runtimeVariables:Ke,setRuntimeVariables:Ve})})]}),pi&&(null===(e=Object.keys(pi||{}))||void 0===e?void 0:e.length)>=1&&(0,D.jsxs)(S.Z,{mb:A.HN,children:[(0,D.jsx)(S.Z,{px:A.cd,children:(0,D.jsx)(k.Z,{children:"Override bookmark values"})}),(0,D.jsx)(f.Z,{bookmarkValues:Q,originalBookmarkValues:null===O||void 0===O||null===(n=O.variables)||void 0===n?void 0:n[oe.PN],pipeline:d,setBookmarkValues:$})]}),(null===hi||void 0===hi?void 0:hi.length)>=1&&(0,D.jsx)(S.Z,{mb:A.HN,children:(0,D.jsx)(H,{blocks:hi,updateVariables:Ve,variables:Re(Re({},Jn),Ke)})})]})}),[pi,Q,hi,Ue,yn,V,pe,d,Y,Ke,Xe,kn,Jn,$,He,ge,Ve,Ge]),fi=be.ZP.tags.list().data,ji=(0,u.useMemo)((function(){return((null===fi||void 0===fi?void 0:fi.tags)||[]).filter((function(e){var n=e.uuid;return!(null!==Cn&&void 0!==Cn&&Cn.includes(n))}))}),[fi,Cn]),xi=(0,u.useMemo)((function(){return(0,je.ri)(V)}),[V]),gi=(0,u.useMemo)((function(){return(0,D.jsx)(Ze,{containerRef:U,date:Nn,interactions:xn,pipeline:d,pipelineInteraction:jn,pipelineSchedule:Xe,setVariables:function(e){Qe((function(n){var i=Re({},e((null===n||void 0===n?void 0:n.variables)||{})),t=Re({},i);return null===xn||void 0===xn||xn.forEach((function(e){Object.entries((null===e||void 0===e?void 0:e.variables)||{}).forEach((function(e){var n=(0,l.Z)(e,2),i=n[0],r=n[1].types;t&&i in t&&(t[i]=(0,Ce.M)(t[i],r))}))})),nn(t),Re(Re({},n),{},{variables:i})}))},showSummary:Se.uuid===dn,time:Rn,triggerTypes:xi,variables:null===Xe||void 0===Xe?void 0:Xe.variables})}),[U,Nn,xn,d,jn,Xe,dn,Qe,nn,Rn,xi]),Zi=(0,u.useMemo)((function(){return oe.fq.ACTIVE===(null===Xe||void 0===Xe?void 0:Xe.status)}),[Xe]),bi=M?null===M||void 0===M?void 0:M((function(e){return G.push("/pipelines/[pipeline]/triggers/[...slug]","/pipelines/".concat(null===d||void 0===d?void 0:d.uuid,"/triggers/").concat(e))})):[null,{isLoading:!1}],yi=(0,l.Z)(bi,2),Pi=yi[0],Oi=yi[1].isLoading,_i=(0,u.useCallback)((function(){null===Pi||void 0===Pi||Pi({pipeline_schedule:Re(Re({},Xe),{},{variables:en||(null===Xe||void 0===Xe?void 0:Xe.variables)})})}),[Pi,en,Xe]),Ei=(0,u.useMemo)((function(){var e,n;return K?(e=(0,D.jsx)(j.ZP,{linkProps:{as:"/pipelines/".concat(Y,"/triggers/").concat(K),href:"/pipelines/[pipeline]/triggers/[...slug]"},noHoverUnderline:!0,outline:!0,sameColorAsText:!0,children:"Cancel and go back"}),n=(0,D.jsx)(j.ZP,{onClick:ti,primary:!0,children:"Save trigger"})):ke.uuid===dn?(e=(0,D.jsx)(j.ZP,{onClick:function(){return null===c||void 0===c?void 0:c()},secondary:!0,children:"Cancel and go back"}),n=(0,D.jsx)(j.ZP,{afterIcon:(0,D.jsx)(me.Kw,{}),onClick:function(){return vn(Ee.uuid)},primary:!0,children:"Next: Customize"})):Ee.uuid===dn?(e=(0,D.jsx)(j.ZP,{beforeIcon:(0,D.jsx)(me.Hd,{}),onClick:function(){return vn(ke.uuid)},secondary:!0,children:"Back: Settings"}),n=(0,D.jsx)(j.ZP,{afterIcon:(0,D.jsx)(me.Kw,{}),onClick:function(){return vn(Se.uuid)},primary:!0,children:"Next: Review"})):Se.uuid===dn&&(e=(0,D.jsx)(j.ZP,{beforeIcon:(0,D.jsx)(me.Hd,{}),onClick:function(){return vn(Ee.uuid)},secondary:!0,children:"Back: Customize"}),n=(0,D.jsxs)(E.ZP,{alignItems:"center",children:[(0,D.jsx)(j.ZP,{beforeIcon:(0,D.jsx)(me.Bf,{}),loading:Oi,onClick:function(){return _i()},primary:!0,children:K?"Save trigger":"Create trigger"}),!K&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(S.Z,{mr:A.cd}),(0,D.jsx)(ve.Z,{checked:Zi,compact:!0,onCheck:function(e){return Qe((function(n){return Re(Re({},n),{},{status:e(Zi)?oe.fq.ACTIVE:oe.fq.INACTIVE})}))}}),(0,D.jsx)(S.Z,{mr:1}),(0,D.jsx)(I.ZP,{default:Zi,muted:!Zi,small:!0,children:"Set trigger to be active immediately after creating"})]})]})),(0,D.jsx)(S.Z,{p:A.cd,children:(0,D.jsxs)(E.ZP,{alignItems:"center",children:[e,e&&n&&(0,D.jsx)(S.Z,{mr:A.cd}),n]})})}),[_i,Oi,Zi,c,ti,K,Y,dn,vn]),ki=(0,u.useMemo)((function(){var e,n,i,t,r,l,o;return"undefined"===typeof(null===d||void 0===d||null===(e=d.settings)||void 0===e||null===(n=e.triggers)||void 0===n?void 0:n.save_in_code_automatically)?null===R||void 0===R||null===(i=R.pipelines)||void 0===i||null===(t=i.settings)||void 0===t||null===(r=t.triggers)||void 0===r?void 0:r.save_in_code_automatically:null===d||void 0===d||null===(l=d.settings)||void 0===l||null===(o=l.triggers)||void 0===o?void 0:o.save_in_code_automatically}),[d,R]);return(0,D.jsx)(D.Fragment,{children:(0,D.jsx)(le.Z,{after:!pn&&mi,afterHidden:pn,breadcrumbs:[{label:function(){return"Triggers"},linkProps:{as:"/pipelines/".concat(Y,"/triggers"),href:"/pipelines/[pipeline]/triggers"}},{label:function(){return null===O||void 0===O?void 0:O.name},linkProps:{as:"/pipelines/".concat(Y,"/triggers/").concat(K),href:"/pipelines/[pipeline]/triggers/[...slug]"}}],errors:i,pageName:_e.M.TRIGGERS,pipeline:d,setErrors:_,subheader:pn||Zn?(0,D.jsx)(S.Z,{px:A.cd,children:(0,D.jsx)(x.Z,{noPadding:!0,onClickTab:function(e){var n=e.uuid;return vn(n)},regularSizeText:!0,selectedTabUUID:dn,tabs:Te,underlineColor:(0,N.qn)(Pe.tf.DATA_LOADER).accent,underlineStyle:!0})}):(0,D.jsxs)(E.ZP,{alignItems:"center",children:[(0,D.jsx)(j.ZP,{disabled:vi,loading:Vn,onClick:ti,outline:!0,primary:!0,children:"Save changes"}),(0,D.jsx)(S.Z,{mr:A.cd}),(0,D.jsx)(j.ZP,{linkProps:{as:"/pipelines/".concat(Y,"/triggers/").concat(K),href:"/pipelines/[pipeline]/triggers/[...slug]"},noHoverUnderline:!0,outline:!0,sameColorAsText:!0,children:"Cancel"}),ki&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(S.Z,{mr:A.cd}),(0,D.jsxs)(I.ZP,{default:!0,xsmall:!0,children:["This trigger will automatically be persisted in code.",(0,D.jsx)("br",{}),"To change this behavior, update the ",(0,D.jsx)(s(),{as:"/pipelines/".concat(Y,"/settings"),href:"/pipelines/[pipeline]/settings",passHref:!0,children:(0,D.jsx)(z.Z,{openNewWindow:!0,xsmall:!0,children:"pipeline\u2019s settings"})})," or ",(0,D.jsx)(s(),{as:"/settings/workspace/preferences",href:"/settings/workspace/preferences",passHref:!0,children:(0,D.jsx)(z.Z,{openNewWindow:!0,xsmall:!0,children:"project settings"})}),"."]})]})]}),subheaderNoPadding:pn||Zn,title:function(){return null!==O&&void 0!==O&&O.name?"Edit ".concat(null===O||void 0===O?void 0:O.name):"New trigger"},uuid:"triggers/edit",children:(0,D.jsxs)("div",{ref:U,children:[(pn||Zn)&&(0,D.jsx)(B.Z,{light:!0}),(pn||Zn)&&(Ee.uuid===dn||Se.uuid===dn)&&gi,(!pn||ke.uuid===dn)&&(!Zn||ke.uuid===dn)&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(S.Z,{p:A.cd,children:[(0,D.jsxs)(S.Z,{mb:2,children:[(0,D.jsx)(k.Z,{children:"Trigger type"}),(0,D.jsx)(I.ZP,{muted:!0,children:"How would you like this pipeline to be triggered?"})]}),(0,D.jsx)(E.ZP,{children:xi.reduce((function(e,n){var i=n.label,t=n.description,r=n.uuid,l=kn===r,o=kn&&!l;return!pn||null!==bn&&void 0!==bn&&bn[r]?e.concat((0,D.jsx)(j.ZP,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){oe.Xm.EVENT!==r||null!==ne&&void 0!==ne&&ne.length||ie([{}]),Qe((function(e){return Re(Re({},e),{},{schedule_type:r})}))},children:(0,D.jsx)(Oe.U,{selected:l,children:(0,D.jsxs)(E.ZP,{alignItems:"center",children:[(0,D.jsx)(F.Z,{children:(0,D.jsx)("input",{checked:l,type:"radio"})}),(0,D.jsx)(S.Z,{mr:A.cd}),(0,D.jsxs)(F.Z,{alignItems:"flex-start",flexDirection:"column",children:[(0,D.jsx)(k.Z,{bold:!0,default:!l&&!o,level:5,muted:!l&&o,children:i()}),(0,D.jsx)(I.ZP,{default:!l&&!o,leftAligned:!0,muted:o,children:t()})]})]})})},r)):e}),[])})]}),(0,D.jsxs)(S.Z,{mt:A.HN,children:[oe.Xm.TIME===kn&&ui,oe.Xm.EVENT===kn&&ai,oe.Xm.API===kn&&di]}),!pn&&(0,D.jsxs)(S.Z,{mt:A.HN,px:A.cd,children:[(0,D.jsxs)(S.Z,{mb:2,children:[(0,D.jsx)(k.Z,{children:"Tags"}),(0,D.jsx)(I.ZP,{muted:!0,children:"Add or remove tags from this trigger."})]}),(0,D.jsx)(de.Z,{removeTag:function(e){Qe((function(n){return Re(Re({},n),{},{tags:null===Cn||void 0===Cn?void 0:Cn.filter((function(n){return n!==e.uuid}))})}))},selectTag:function(e){Qe((function(n){return Re(Re({},n),{},{tags:(0,L.$C)(e.uuid,Cn,(function(n){return n===e.uuid}))})}))},selectedTags:null===Cn||void 0===Cn?void 0:Cn.map((function(e){return{uuid:e}})),tags:ji,uuid:"TagsAutocompleteInputField-trigger-".concat(K)})]})]}),(pn||Zn)&&Ei]})})})}},97196:function(e,n,i){i.d(n,{S5:function(){return l},_P:function(){return o}});var t,r=i(86735);!function(e){e.AWS="aws_event"}(t||(t={}));var l=[{label:function(){return"AWS"},uuid:t.AWS}],o=(0,r.HK)(l,(function(e){return e.uuid}))},61599:function(e,n,i){i.d(n,{D5:function(){return j},MU:function(){return o},RL:function(){return c},Xv:function(){return a},Zj:function(){return f},_B:function(){return r},eL:function(){return d},fe:function(){return p},jL:function(){return u},kB:function(){return x},ks:function(){return h},th:function(){return m},u7:function(){return v},zS:function(){return s}});var t,r,l=i(82394);!function(e){e.FULL_TABLE="FULL_TABLE",e.INCREMENTAL="INCREMENTAL",e.LOG_BASED="LOG_BASED"}(r||(r={}));var o,s,u=[r.FULL_TABLE,r.INCREMENTAL];!function(e){e.IGNORE="IGNORE",e.UPDATE="UPDATE"}(o||(o={})),function(e){e.DATE_TIME="date-time",e.UUID="uuid"}(s||(s={}));var c,a="datetime",d=(t={},(0,l.Z)(t,s.DATE_TIME,a),(0,l.Z)(t,s.UUID,s.UUID),t);!function(e){e.ARRAY="array",e.BOOLEAN="boolean",e.INTEGER="integer",e.NULL="null",e.NUMBER="number",e.OBJECT="object",e.STRING="string"}(c||(c={}));var v,h,p,m,f,j=[c.ARRAY,c.BOOLEAN,a,c.INTEGER,c.NULL,c.NUMBER,c.OBJECT,c.STRING,s.UUID];!function(e){e.PROPERTIES="properties"}(v||(v={})),function(e){e.AUTOMATIC="automatic",e.AVAILABLE="available",e.UNSUPPORTED="unsupported"}(h||(h={})),function(e){e.FORCED_REPLICATION_METHOD="forced-replication-method",e.KEY_PROPERTIES="table-key-properties",e.REPLICATION_KEYS="valid-replication-keys",e.SCHEMA_NAME="schema-name"}(p||(p={})),function(e){e.AMPLITUDE="amplitude",e.BIGQUERY="bigquery",e.CHARGEBEE="chargebee",e.GOOGLE_ADS="google_ads",e.GOOGLE_SEARCH_CONSOLE="google_search_console",e.GOOGLE_SHEETS="google_sheets",e.INTERCOM="intercom",e.MYSQL="mysql",e.PIPEDRIVE="pipedrive",e.POSTGRESQL="postgresql",e.REDSHIFT="redshift",e.SALESFORCE="salesforce",e.STRIPE="stripe"}(m||(m={})),function(e){e.AMAZON_S3="amazon_s3",e.BIGQUERY="bigquery",e.DELTA_LAKE_S3="delta_lake_s3",e.GOOGLE_CLOUD_STORAGE="google_cloud_storage",e.KAFKA="kafka",e.MYSQL="mysql",e.POSTGRESQL="postgresql",e.SNOWFLAKE="snowflake"}(f||(f={}));var x=[f.AMAZON_S3,f.GOOGLE_CLOUD_STORAGE,f.KAFKA]},39457:function(e,n,i){var t,r=i(82394),l=(i(82684),i(64866)),o=i(21764),s=i(55485),u=i(48670),c=i(38276),a=i(30160),d=i(12468),v=i(72473),h=i(70515),p=i(28598);function m(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function f(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?m(Object(i),!0).forEach((function(n){(0,r.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}!function(e){e.LEFT="left",e.RIGHT="right"}(t||(t={})),n.Z=function(e){var n,i=e.children,r=e.copiedText,m=e.iconPosition,j=void 0===m?t.LEFT:m,x=e.inverted,g=e.linkProps,Z=e.linkText,b=e.monospace,y=e.muted,P=e.small,O=e.toastMessage,_=e.withCopyIcon;return i?n=(0,p.jsx)("span",{children:i}):_&&(n=(0,p.jsx)(u.Z,f(f({href:"#",inline:!0,muted:y,preventDefault:!0,sameColorAsText:!0,small:P},g),{},{children:(0,p.jsxs)(s.ZP,{alignItems:"center",children:[j===t.LEFT&&(0,p.jsx)(c.Z,{mr:Z?1:0,children:(0,p.jsx)(s.ZP,{alignItems:"center",children:(0,p.jsx)(v.CK,{inverted:x,muted:y,size:2*h.iI})})}),Z&&(0,p.jsx)(a.ZP,{inverted:x,monospace:b,muted:y,small:P,children:Z}),j===t.RIGHT&&(0,p.jsx)(c.Z,{ml:Z?1:0,children:(0,p.jsx)(s.ZP,{alignItems:"center",children:(0,p.jsx)(v.CK,{inverted:x,muted:y})})})]})}))),(0,p.jsx)(d.Z,{block:!0,label:"Copy",size:null,widthFitContent:!0,children:(0,p.jsx)(l.CopyToClipboard,{onCopy:function(){return o.Am.success(O||"Successfully copied to clipboard.",{position:o.Am.POSITION.BOTTOM_RIGHT,toastId:r})},text:r,children:n})})}},22286:function(e,n,i){i.d(n,{M:function(){return a}});var t=i(82394),r=i(75582),l=i(54193),o=i(81728),s=i(42122);function u(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function c(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?u(Object(i),!0).forEach((function(n){(0,t.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}function a(e,n){var i,u;if(!n||null===n||void 0===n||!n.length)return e;if(null!==n&&void 0!==n&&n.includes(l.zj.LIST))return((0,s.Kn)(e)?Object.keys(e||{}):[e]).map((function(e){return a(e,null===n||void 0===n?void 0:n.filter((function(e){return l.zj.LIST!==e})))}));if(null!==n&&void 0!==n&&n.includes(l.zj.DICTIONARY)){var d=(0,s.Kn)(e)?e:(0,o.Pb)(e)?JSON.parse(e):e;if((0,s.Kn)(d))return Object.entries(d).reduce((function(e,i){var o=(0,r.Z)(i,2),s=o[0],u=o[1];return c(c({},e),{},(0,t.Z)({},s,a(u,null===n||void 0===n?void 0:n.filter((function(e){return l.zj.DICTIONARY!==e})))))}),{})}if(null!==n&&void 0!==n&&n.includes(l.zj.BOOLEAN)){var v,h;if("boolean"===typeof e)return e;if("true"===(null===(v=String(e))||void 0===v?void 0:v.toLowerCase()))return!0;if("false"===(null===(h=String(e))||void 0===h?void 0:h.toLowerCase()))return!1}return null!==n&&void 0!==n&&null!==(i=n.includes)&&void 0!==i&&i.call(n,l.zj.FLOAT)&&(0,o.HW)(e)?parseFloat(e):null!==n&&void 0!==n&&null!==(u=n.includes)&&void 0!==u&&u.call(n,l.zj.INTEGER)&&(0,o.HW)(e)?parseInt(e):e}},32080:function(e,n,i){i.d(n,{n:function(){return l}});var t=i(44425),r=i(61599);function l(e){var n,i={};return null===e||void 0===e||null===(n=e.blocks)||void 0===n||n.forEach((function(e){var n=e.catalog,l=e.type,o=e.uuid;if(t.tf.DATA_LOADER===l&&null!==n&&void 0!==n&&n.streams){var s,u=null===n||void 0===n||null===(s=n.streams)||void 0===s?void 0:s.filter((function(e){var n=e.replication_method;return r._B.INCREMENTAL===n}));(null===u||void 0===u?void 0:u.length)>=1&&(o in i||(i[o]={block:e,streams:[]}),i[o].streams.push(u))}})),i}}}]);